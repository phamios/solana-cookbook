import{_ as p,r as t,o,c,a as n,b as l,F as i,e as s,d as a}from"./app.07ce7a66.js";const r={},u=s(`<h1 id="name-service-name-servisi" tabindex="-1"><a class="header-anchor" href="#name-service-name-servisi" aria-hidden="true">#</a> Name Service (Name Servisi)</h1><h2 id="name-registry-name-kayd\u0131" tabindex="-1"><a class="header-anchor" href="#name-registry-name-kayd\u0131" aria-hidden="true">#</a> Name registry (Name kayd\u0131)</h2><p>Name registry stores (ad kay\u0131t defteri), alan ad\u0131yla ilgili bilgileri depolar. \u0130ki \u015Feyden olu\u015Fur:</p><ul><li>Ba\u015Fl\u0131k</li><li>Veri</li></ul><p>Bir alan ad\u0131n\u0131n verilerinin \xF6n\xFCne her zaman ba\u015Fl\u0131k eklenir, JS&#39;deki ba\u015Fl\u0131\u011F\u0131n yap\u0131s\u0131 a\u015Fa\u011F\u0131dad\u0131r:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">NameRegistryState</span> <span class="token punctuation">{</span>
  parentName<span class="token operator">:</span> PublicKey<span class="token punctuation">;</span>
  owner<span class="token operator">:</span> PublicKey<span class="token punctuation">;</span>
  <span class="token keyword">class</span><span class="token operator">:</span> PublicKey<span class="token punctuation">;</span>
  data<span class="token operator">:</span> Buffer <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token constant">HEADER_LEN</span> <span class="token operator">=</span> <span class="token number">96</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> schema<span class="token operator">:</span> Schema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      NameRegistryState<span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        kind<span class="token operator">:</span> <span class="token string">&quot;struct&quot;</span><span class="token punctuation">,</span>
        fields<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span><span class="token string">&quot;parentName&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token string">&quot;owner&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token punctuation">{</span>
    parentName<span class="token operator">:</span> Uint8Array<span class="token punctuation">;</span>
    owner<span class="token operator">:</span> Uint8Array<span class="token punctuation">;</span>
    <span class="token keyword">class</span><span class="token operator">:</span> Uint8Array<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PublicKey</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>owner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PublicKey</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>owner<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>class <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PublicKey</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="resolving-sol-domains-sol-alan-adlar\u0131n\u0131-cozme" tabindex="-1"><a class="header-anchor" href="#resolving-sol-domains-sol-alan-adlar\u0131n\u0131-cozme" aria-hidden="true">#</a> Resolving SOL domains (SOL alan adlar\u0131n\u0131 \xE7\xF6zme)</h2><p>.SOL alan adlar\u0131, publicKey&#39;lere d\xF6n\xFC\u015Fen benzersiz, kullan\u0131c\u0131 dostu alan adlar\u0131d\u0131r. Bir\xE7ok c\xFCzdan, bunlar\u0131 token veya SOL g\xF6ndermek i\xE7in ba\u015Fka bir se\xE7enek olarak kullan\u0131r. .SOL alan adlar\u0131n\u0131 a\u015Fa\u011F\u0131dakilerle publicKey&#39;lerine d\xF6n\xFC\u015Ft\xFCrebilirsiniz:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> domain <span class="token operator">=</span> <span class="token string">&quot;levi.sol&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hashedName <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getHashedName</span><span class="token punctuation">(</span>domain<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.sol&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nameAccountKey <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getNameAccountKey</span><span class="token punctuation">(</span>
  hashedName<span class="token punctuation">,</span>
  <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">PublicKey</span><span class="token punctuation">(</span><span class="token string">&quot;58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx&quot;</span><span class="token punctuation">)</span> <span class="token comment">// SOL TLD Authority</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> owner <span class="token operator">=</span> <span class="token keyword">await</span> NameRegistryState<span class="token punctuation">.</span><span class="token function">retrieve</span><span class="token punctuation">(</span>
  <span class="token keyword">new</span> <span class="token class-name">Connection</span><span class="token punctuation">(</span><span class="token function">clusterApiUrl</span><span class="token punctuation">(</span><span class="token string">&quot;mainnet-beta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  nameAccountKey
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>owner<span class="token punctuation">.</span>registry<span class="token punctuation">.</span>owner<span class="token punctuation">.</span><span class="token function">toBase58</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// JUskoxS2PTiaBpxfGaAPgf3cUNhdeYFGMKdL6mZKKfR</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="reverse-lookup-geriye-dogru-arama" tabindex="-1"><a class="header-anchor" href="#reverse-lookup-geriye-dogru-arama" aria-hidden="true">#</a> Reverse lookup (Geriye do\u011Fru arama)</h2><p>Reverse lookup, alan ad\u0131n\u0131 public key\u2019den \xE7\xF6zmek i\xE7in kullan\u0131labilir.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Public key of bonfida.sol</span>
<span class="token keyword">const</span> domainKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PublicKey</span><span class="token punctuation">(</span><span class="token string">&quot;Crf8hzfthWGbGbLTVCiqRqV5MVnbpHB1L9KQMd6gsinb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> domainName <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">performReverseLookup</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> domainKey<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bonfida</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="subdomain-lookup-subdomain-arama" tabindex="-1"><a class="header-anchor" href="#subdomain-lookup-subdomain-arama" aria-hidden="true">#</a> Subdomain lookup (Subdomain arama)</h2><p>Bir subdomain\u2019i \xE7\xF6zmek i\xE7in yapman\u0131z gerekenler:</p><ol><li>\xDCst etki alan\u0131 anahtar\u0131n\u0131(parent domain key) al\u0131n</li><li>Alt alan anahtar\u0131n\u0131(subdomain key) al\u0131n</li><li>Hesap bilgilerini geri al\u0131n</li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> parentDomain <span class="token operator">=</span> <span class="token string">&quot;bonfida&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> subDomain <span class="token operator">=</span> <span class="token string">&quot;demo&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Step 1</span>
<span class="token keyword">const</span> hashedParentDomain <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getHashedName</span><span class="token punctuation">(</span>parentDomain<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> parentDomainKey <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getNameAccountKey</span><span class="token punctuation">(</span>
  hashedParentDomain<span class="token punctuation">,</span>
  <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token constant">SOL_TLD_AUTHORITY</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Step 2</span>
<span class="token keyword">const</span> subDomainKey <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDNSRecordAddress</span><span class="token punctuation">(</span>parentDomainKey<span class="token punctuation">,</span> subDomain<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Step 3</span>
<span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">await</span> NameRegistryState<span class="token punctuation">.</span><span class="token function">retrieve</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> subDomainKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="find-all-the-domain-names-owned-by-a-public-key-bir-public-key-in-sahip-oldugu-tum-isimleri-bulma" tabindex="-1"><a class="header-anchor" href="#find-all-the-domain-names-owned-by-a-public-key-bir-public-key-in-sahip-oldugu-tum-isimleri-bulma" aria-hidden="true">#</a> Find all the domain names owned by a public key (Bir public key\u2019in sahip oldu\u011Fu t\xFCm isimleri bulma)</h2><p>Bir <code>memcmp</code> filtresiyle bir <code>getProgramAccounts</code> iste\u011Fi yaparak bir c\xFCzdan\u0131n t\xFCm alan adlar\u0131n\u0131 alabilirsiniz.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">findOwnedNameAccountsForUser</span><span class="token punctuation">(</span>
  connection<span class="token operator">:</span> Connection<span class="token punctuation">,</span>
  userAccount<span class="token operator">:</span> PublicKey
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>PublicKey<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> filters <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      memcmp<span class="token operator">:</span> <span class="token punctuation">{</span>
        offset<span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
        bytes<span class="token operator">:</span> userAccount<span class="token punctuation">.</span><span class="token function">toBase58</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> accounts <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">getProgramAccounts</span><span class="token punctuation">(</span><span class="token constant">NAME_PROGRAM_ID</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    filters<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> accounts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>publicKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="resolve-a-twitter-handle-twitter-handle-\u0131n\u0131-cozme" tabindex="-1"><a class="header-anchor" href="#resolve-a-twitter-handle-twitter-handle-\u0131n\u0131-cozme" aria-hidden="true">#</a> Resolve a Twitter handle (Twitter handle\u2019\u0131n\u0131 \xE7\xF6zme)</h2>`,20),k={href:"https://naming.bonfida.org/#/twitter-registration",target:"_blank",rel:"noopener noreferrer"},b=a("Twitter handles Solana name service"),d=a("\u2019e kaydedilebilir ve .SOL alan adlar\u0131 gibi kullan\u0131labilir."),m=s(`<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Pubkey of the wallet you want to retrieve the Twitter handle</span>
<span class="token keyword">const</span> pubkey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PublicKey</span><span class="token punctuation">(</span><span class="token string">&quot;FidaeBkZkvDqi1GXNEwB8uWmj9Ngx2HXSS5nyGRuVFcZ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>handle<span class="token punctuation">,</span> registryKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getHandleAndRegistryKey</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> pubkey<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="reverse-lookup-of-a-twitter-handle-twitter-handle-\u0131n\u0131-geri-aratma" tabindex="-1"><a class="header-anchor" href="#reverse-lookup-of-a-twitter-handle-twitter-handle-\u0131n\u0131-geri-aratma" aria-hidden="true">#</a> Reverse lookup of a Twitter handle (Twitter handle\u2019\u0131n\u0131 geri aratma)</h2><p>Bir Twitter tan\u0131t\u0131c\u0131s\u0131yla ili\u015Fkili SOL adresini bulmak i\xE7in geriye do\u011Fru bir arama yapabilirsiniz.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> handle <span class="token operator">=</span> <span class="token string">&quot;bonfida&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getTwitterRegistry</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,4);function y(h,w){const e=t("ExternalLinkIcon");return o(),c(i,null,[u,n("p",null,[n("a",k,[b,l(e)]),d]),m],64)}var f=p(r,[["render",y]]);export{f as default};
