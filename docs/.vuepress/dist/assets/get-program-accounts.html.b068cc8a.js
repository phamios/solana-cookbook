import{_ as i,r as l,o as r,c as m,a as n,b as a,w as t,F as b,d as s,e as o}from"./app.07ce7a66.js";var k="/assets/account-size.398f17bf.png",d="/assets/memcmp.c5e1f050.png";const f={},h=n("h1",{id:"get-program-accounts",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#get-program-accounts","aria-hidden":"true"},"#"),s(" Get Program Accounts")],-1),g=n("p",null,[s("An RPC method that returns all accounts owned by a program. Currently pagination is not supported. Requests to "),n("code",null,"getProgramAccounts"),s(" should include the "),n("code",null,"dataSlice"),s(" and/or "),n("code",null,"filters"),s(" parameters to improve response time and return only intended results.")],-1),_=n("h2",{id:"facts",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#facts","aria-hidden":"true"},"#"),s(" Facts")],-1),y={class:"custom-container tip"},w=n("p",{class:"custom-container-title"},"Parameters",-1),A=n("li",null,[n("code",null,"programId"),s(": "),n("code",null,"string"),s(" - Pubkey of the program to query, provided as a base58 encoded string")],-1),T=s("(optional) "),C=n("code",null,"configOrCommitment",-1),S=s(": "),P=n("code",null,"object",-1),v=s(" - Configuration parameters containing the following optional fields: "),D=s("(optional) "),E=n("code",null,"commitment",-1),N=s(": "),M=n("code",null,"string",-1),R=s(" - "),K={href:"https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment",target:"_blank",rel:"noopener noreferrer"},G=s("State commitment"),B=s("(optional) "),L=n("code",null,"encoding",-1),x=s(": "),z=n("code",null,"string",-1),F=s(" - Encoding for account data, either: "),H=n("code",null,"base58",-1),W=s(", "),Z=n("code",null,"base64",-1),Q=s(", or "),U=n("code",null,"jsonParsed",-1),j=s(". Note, web3js users should instead use "),V={href:"https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts",target:"_blank",rel:"noopener noreferrer"},I=s("getParsedProgramAccounts"),O=o("<li>(optional) <code>dataSlice</code>: <code>object</code> - Limit the returned account data based on: <ul><li><code>offset</code>: <code>number</code> - Number of bytes into account data to begin returning</li><li><code>length</code>: <code>number</code> - Number of bytes of account data to return</li></ul></li><li>(optional) <code>filters</code>: <code>array</code> - Filter results using the following filter objects: <ul><li><code>memcmp</code>: <code>object</code> - Match a series of bytes to account data: <ul><li><code>offset</code>: <code>number</code> - Number of bytes into account data to begin comparing</li><li><code>bytes</code>: <code>string</code> - Data to match, as base58 encoded string limited to 129 bytes</li></ul></li><li><code>dataSize</code>: <code>number</code> - Compares the account data length with the provided data size</li></ul></li>",2),Y=s("(optional) "),J=n("code",null,"withContext",-1),X=s(": "),q=n("code",null,"boolean",-1),$=s(" - Wrap the result in an "),nn={href:"https://docs.solana.com/developing/clients/jsonrpc-api#rpcresponse-structure",target:"_blank",rel:"noopener noreferrer"},sn=s("RpcResponse JSON object"),an=o('<h5 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> Response</h5><p>By default <code>getProgramAccounts</code> will return an array of JSON objects with the following structure:</p><ul><li><code>pubkey</code>: <code>string</code> - The account pubkey as a base58 encoded string</li><li><code>account</code>: <code>object</code> - a JSON object, with the following sub fields: <ul><li><code>lamports</code>: <code>number</code>, number of lamports assigned to the account</li><li><code>owner</code>: <code>string</code>, The base58 encoded pubkey of the program the account has been assigned to</li><li><code>data</code>: <code>string</code> | <code>object</code> - data associated with the account, either as encoded binary data or JSON format depending on the provided encoding parameter</li><li><code>executable</code>: <code>boolean</code>, Indication if the account contains a program</li><li><code>rentEpoch</code>: <code>number</code>, The epoch at which this account will next owe rent</li></ul></li></ul>',3),en=n("h2",{id:"deep-dive",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#deep-dive","aria-hidden":"true"},"#"),s(" Deep Dive")],-1),tn=n("p",null,[n("code",null,"getProgramAccounts"),s(" is a versatile RPC method that returns all accounts owned by a program. We can use "),n("code",null,"getProgramAccounts"),s(" for a number of useful queries, such as finding:")],-1),cn=n("li",null,"All token accounts for a particular wallet",-1),on=s("All token accounts for a particular mint (i.e. All "),ln={href:"https://www.projectserum.com/",target:"_blank",rel:"noopener noreferrer"},pn=s("SRM"),un=s(" holders)"),rn=s("All custom accounts for a particular program (i.e. All "),mn={href:"https://mango.markets/",target:"_blank",rel:"noopener noreferrer"},bn=s("Mango"),kn=s(" users)"),dn=o("<p>Despite its usefulness, <code>getProgramAccounts</code> is often misunderstood due to its current constraints. Many of the queries supported by <code>getProgramAccounts</code> require RPC nodes to scan large sets of data. These scans are both memory and resource intensive. As a result, calls that are too frequent or too large in scope can result in connection timeouts. Furthermore, at the time of this writing, the <code>getProgramAccounts</code> endpoint does not support pagination. If the results of a query are too large, the response will be truncated.</p><p>To get around these current constraints, <code>getProgramAccounts</code> offers a number of useful parameters: namely, <code>dataSlice</code> and the <code>filters</code> options <code>memcmp</code> and <code>dataSize</code>. By providing combinations of these parameters, we can reduce the scope of our queries down to manageable and predictable sizes.</p>",2),fn=s("A common example of "),hn=n("code",null,"getProgramAccounts",-1),gn=s(" involves interacting with the "),_n={href:"https://spl.solana.com/token",target:"_blank",rel:"noopener noreferrer"},yn=s("SPL-Token Program"),wn=s(". Requesting all accounts owned by the Token Program with a "),An=s("basic call"),Tn=s(" would involve an enormous amount of data. By providing parameters, however, we can efficiently request just the data we intend to use."),Cn=o('<h3 id="filters" tabindex="-1"><a class="header-anchor" href="#filters" aria-hidden="true">#</a> <code>filters</code></h3><p>The most common parameter to use with <code>getProgramAccounts</code> is the <code>filters</code> array. This array accepts two types of filters,<code>dataSize</code> and <code>memcmp</code>. Before using either of these filters, we should be familiar with how the data we are requesting is laid out and serialized.</p><h4 id="datasize" tabindex="-1"><a class="header-anchor" href="#datasize" aria-hidden="true">#</a> <code>dataSize</code></h4>',3),Sn=s("In the case of the Token Program, we can see that "),Pn={href:"https://github.com/solana-labs/solana-program-library/blob/08d9999f997a8bf38719679be9d572f119d0d960/token/program/src/state.rs#L86-L106",target:"_blank",rel:"noopener noreferrer"},vn=s("token accounts are 165 bytes in length"),Dn=s(". Specifically, a token account has eight different fields, with each field requiring a predictable number of bytes. We can visualize how this data is laid out using the below illustration."),En=o('<p><img src="'+k+'" alt="Account Size"></p><p>If we wanted to find all token accounts owned by our wallet address, we could add <code>{ dataSize: 165 }</code> to our <code>filters</code> array to narrow the scope of our query to just accounts that are exactly 165 bytes in length. This alone, however, would be insufficient. We would also need to add a filter that looks for accounts owned by our address. We can achieve this with the <code>memcmp</code> filter.</p><h4 id="memcmp" tabindex="-1"><a class="header-anchor" href="#memcmp" aria-hidden="true">#</a> <code>memcmp</code></h4><p>The <code>memcmp</code> filter, or &quot;memory comparison&quot; filter, allows us to compare data at any field stored on our account. Specifically, we can query only for accounts that match a particular set of bytes at a particular position. <code>memcmp</code> requires two arguments:</p><ul><li><code>offset</code>: The position at which to begin comparing data. This position is measured in bytes and is expressed as an integer.</li><li><code>bytes</code>: The data that should match the account&#39;s data. This is represented as a base-58 encoded string should be limited to less than 129 bytes.</li></ul><p>It&#39;s important to note that <code>memcmp</code> will only return results that are an exact match on <code>bytes</code>. Currently, it does not support comparisons for values that are less than or greater than the <code>bytes</code> we provide.</p><p>In keeping with our Token Program example, we can amend our query to only return token accounts that are owned by our wallet address. When looking at a token account, we can see the first two fields stored on a token account are both pubkeys, and that each pubkey is 32 bytes in length. Given that <code>owner</code> is the second field, we should begin our <code>memcmp</code> at an <code>offset</code> of 32 bytes. From here, we\u2019ll be looking for accounts whose owner field matches our wallet address.</p><p><img src="'+d+'" alt="Account Size"></p><p>We can invoke this query via the following example:</p>',9),Nn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/spl-token"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" clusterApiUrl"),n("span",{class:"token punctuation"},","),s(" Connection "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T"'),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"clusterApiUrl"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"confirmed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"const"),s(" accounts "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getParsedProgramAccounts"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},'// new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")'),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
      filters`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          dataSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          memcmp`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
            offset`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"32"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
            bytes`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// base58 encoded string"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Found "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("accounts"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," token account(s) for wallet "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": "),n("span",{class:"token template-punctuation string"},"`")]),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  accounts`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("account"),n("span",{class:"token punctuation"},","),s(" i"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"-- Token Account Address "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("i "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("account"),n("span",{class:"token punctuation"},"."),s("pubkey"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," --"),n("span",{class:"token template-punctuation string"},"`")]),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Mint: "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("account"),n("span",{class:"token punctuation"},"."),s("account"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"parsed"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"info"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"mint"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Amount: "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("account"),n("span",{class:"token punctuation"},"."),s("account"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"parsed"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"info"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"tokenAmount"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"uiAmount"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token comment"},`/*
    // Output

    Found 2 token account(s) for wallet FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T: 
    -- Token Account Address 0:  H12yCcKLHFJFfohkeKiN8v3zgaLnUMwRcnJTyB4igAsy --
    Mint: CKKDsBT6KiT4GDKs3e39Ue9tDkhuGUKM3cC2a7pmV9YK
    Amount: 1
    -- Token Account Address 1:  Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb --
    Mint: BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf
    Amount: 3
  */`),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br")])],-1),Mn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token namespace"},[s("rpc_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},","),s(` 
  `),n("span",{class:"token namespace"},[s("rpc_filter"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncoding"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token namespace"},[s("rpc_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_sdk"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token namespace"},[s("commitment_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token namespace"},[s("program_pack"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Pack"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("spl_token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token namespace"},[s("state"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"Mint"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_account_decoder"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"str"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T"'),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" rpc_url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"http://api.devnet.solana.com"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new_with_commitment"),n("span",{class:"token punctuation"},"("),s("rpc_url"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"confirmed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" filters "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token macro property"},"vec!"),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token number"},"32"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base58"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"DataSize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" accounts "),n("span",{class:"token operator"},"="),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_program_accounts_with_config"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token operator"},"&"),n("span",{class:"token namespace"},[s("spl_token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token constant"},"ID"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
          filters`),n("span",{class:"token punctuation"},","),s(`
          account_config`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
              encoding`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base64"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              commitment`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"commitment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Found {:?} token account(s) for wallet {MY_WALLET_ADDRESS}: "'),n("span",{class:"token punctuation"},","),s(" accounts"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"len"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token punctuation"},","),s(" account"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"in"),s(" accounts"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"iter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"enumerate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"-- Token Account Address {:?}:  {:?} --"'),n("span",{class:"token punctuation"},","),s(" i"),n("span",{class:"token punctuation"},","),s(" account"),n("span",{class:"token number"},".0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

      `),n("span",{class:"token keyword"},"let"),s(" mint_token_account "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"unpack_from_slice"),n("span",{class:"token punctuation"},"("),s("account"),n("span",{class:"token number"},".1"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_slice"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Mint: {:?}"'),n("span",{class:"token punctuation"},","),s(" mint_token_account"),n("span",{class:"token punctuation"},"."),s("mint"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

      `),n("span",{class:"token keyword"},"let"),s(" mint_account_data "),n("span",{class:"token operator"},"="),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_account_data"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),s("mint_token_account"),n("span",{class:"token punctuation"},"."),s("mint"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" mint "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Mint"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"unpack_from_slice"),n("span",{class:"token punctuation"},"("),s("mint_account_data"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_slice"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Amount: {:?}"'),n("span",{class:"token punctuation"},","),s(" mint_token_account"),n("span",{class:"token punctuation"},"."),s("amount "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"f64"),s(),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"10usize"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"pow"),n("span",{class:"token punctuation"},"("),s("mint"),n("span",{class:"token punctuation"},"."),s("decimals "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"u32"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"f64"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/*
// Output

Found 2 token account(s) for wallet FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T: 
-- Token Account Address 0:  H12yCcKLHFJFfohkeKiN8v3zgaLnUMwRcnJTyB4igAsy --
Mint: CKKDsBT6KiT4GDKs3e39Ue9tDkhuGUKM3cC2a7pmV9YK
Amount: 1.0
-- Token Account Address 1:  Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb --
Mint: BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf
Amount: 3.0
*/`),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br")])],-1),Rn=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"curl"),s(" http://api.mainnet-beta.solana.com -X POST -H "),n("span",{class:"token string"},'"Content-Type: application/json"'),s(" -d "),n("span",{class:"token string"},`'
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 32,
              "bytes": "FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T"
            }
          }
        ]
      }
    ]
  }
'`),s(`

`),n("span",{class:"token comment"},"# Output: "),s(`
`),n("span",{class:"token comment"},"# {"),s(`
`),n("span",{class:"token comment"},'#   "jsonrpc": "2.0",'),s(`
`),n("span",{class:"token comment"},'#   "result": ['),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": {'),s(`
`),n("span",{class:"token comment"},'#           "parsed": {'),s(`
`),n("span",{class:"token comment"},'#             "info": {'),s(`
`),n("span",{class:"token comment"},'#               "isNative": false,'),s(`
`),n("span",{class:"token comment"},'#               "mint": "BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf",'),s(`
`),n("span",{class:"token comment"},'#               "owner": "FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T",'),s(`
`),n("span",{class:"token comment"},'#               "state": "initialized",'),s(`
`),n("span",{class:"token comment"},'#               "tokenAmount": {'),s(`
`),n("span",{class:"token comment"},'#                 "amount": "998999999000000000",'),s(`
`),n("span",{class:"token comment"},'#                 "decimals": 9,'),s(`
`),n("span",{class:"token comment"},'#                 "uiAmount": 998999999,'),s(`
`),n("span",{class:"token comment"},'#                 "uiAmountString": "998999999"'),s(`
`),n("span",{class:"token comment"},"#               }"),s(`
`),n("span",{class:"token comment"},"#             },"),s(`
`),n("span",{class:"token comment"},'#             "type": "account"'),s(`
`),n("span",{class:"token comment"},"#           },"),s(`
`),n("span",{class:"token comment"},'#           "program": "spl-token",'),s(`
`),n("span",{class:"token comment"},'#           "space": 165'),s(`
`),n("span",{class:"token comment"},"#         },"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 313'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb"'),s(`
`),n("span",{class:"token comment"},"#     }"),s(`
`),n("span",{class:"token comment"},"#   ],"),s(`
`),n("span",{class:"token comment"},'#   "id": 1'),s(`
`),n("span",{class:"token comment"},"# }"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br")])],-1),Kn=o('<h3 id="dataslice" tabindex="-1"><a class="header-anchor" href="#dataslice" aria-hidden="true">#</a> <code>dataSlice</code></h3><p>Outside of the two filter parameters, the third most common parameter for <code>getProgramAccounts</code> is <code>dataSlice</code>. Unlike the <code>filters</code> parameter, <code>dataSlice</code> will not reduce the number of accounts returned by a query. Instead, <code>dataSlice</code> will limit the amount of data for each account.</p><p>Much like <code>memcmp</code>, <code>dataSlice</code> accepts two arguments:</p><ul><li><code>offset</code>: The position (in number of bytes) at which to begin returning account data</li><li><code>length</code>: The number of bytes which should be returned</li></ul><p><code>dataSlice</code> is particularly useful when we run queries on a large dataset but don\u2019t actually care about the account data itself. An example of this would be if we wanted to find the number of token accounts (i.e. number of token holders) for a particular token mint.</p>',5),Gn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/spl-token"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" clusterApiUrl"),n("span",{class:"token punctuation"},","),s(" Connection "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf"'),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"clusterApiUrl"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"confirmed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"const"),s(" accounts "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getProgramAccounts"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},'// new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")'),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
      dataSlice`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        offset`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        length`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      filters`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          dataSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          memcmp`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
            offset`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
            bytes`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// base58 encoded string"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Found "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("accounts"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," token account(s) for mint "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("accounts"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token comment"},`/*
  // Output (notice the empty <Buffer > at acccount.data)
  
  Found 3 token account(s) for mint BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf
  [
    {
      account: {
        data: <Buffer >,
        executable: false,
        lamports: 2039280,
        owner: [PublicKey],
        rentEpoch: 228
      },
      pubkey: PublicKey {
        _bn: <BN: a8aca7a3132e74db2ca37bfcd66f4450f4631a5464b62fffbd83c48ef814d8d7>
      }
    },
    {
      account: {
        data: <Buffer >,
        executable: false,
        lamports: 2039280,
        owner: [PublicKey],
        rentEpoch: 228
      },
      pubkey: PublicKey {
        _bn: <BN: ce3b7b906c2ff6c6b62dc4798136ec017611078443918b2fad1cadff3c2e0448>
      }
    },
    {
      account: {
        data: <Buffer >,
        executable: false,
        lamports: 2039280,
        owner: [PublicKey],
        rentEpoch: 228
      },
      pubkey: PublicKey {
        _bn: <BN: d4560e42cb24472b0e1203ff4b0079d6452b19367b701643fa4ac33e0501cb1>
      }
    }
  ]
  */`),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br")])],-1),Bn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token namespace"},[s("rpc_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},","),s(` 
  `),n("span",{class:"token namespace"},[s("rpc_filter"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncoding"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token namespace"},[s("rpc_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_sdk"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token namespace"},[s("commitment_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_account_decoder"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"UiDataSliceConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"str"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf"'),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" rpc_url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"http://api.devnet.solana.com"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new_with_commitment"),n("span",{class:"token punctuation"},"("),s("rpc_url"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"confirmed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" filters "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token macro property"},"vec!"),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base58"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"DataSize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" accounts "),n("span",{class:"token operator"},"="),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_program_accounts_with_config"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token operator"},"&"),n("span",{class:"token namespace"},[s("spl_token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token constant"},"ID"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
          filters`),n("span",{class:"token punctuation"},","),s(`
          account_config`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
              data_slice`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"UiDataSliceConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
                  offset`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
                  length`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
              `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              encoding`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base64"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              commitment`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"commitment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Found {:?} token account(s) for mint {MY_TOKEN_MINT_ADDRESS}: "'),n("span",{class:"token punctuation"},","),s(" accounts"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"len"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{:#?}"'),n("span",{class:"token punctuation"},","),s(" accounts"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/*
// Output (notice zero \`len\` in \`data\` of \`Account\`s)

Found 3 token account(s) for mint BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf: 
[
  (
      tofD3NzLfZ5pWG91JcnbfsAbfMcFF2SRRp3ChnjeTcL,
      Account {
          lamports: 2039280,
          data.len: 0,
          owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA,
          executable: false,
          rent_epoch: 319,
      },
  ),
  (
      CMSC2GeWDsTPjfnhzCZHEqGRjKseBhrWaC2zNcfQQuGS,
      Account {
          lamports: 2039280,
          data.len: 0,
          owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA,
          executable: false,
          rent_epoch: 318,
      },
  ),
  (
      Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb,
      Account {
          lamports: 2039280,
          data.len: 0,
          owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA,
          executable: false,
          rent_epoch: 318,
      },
  ),
]
*/`),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br")])],-1),Ln=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token comment"},'# Note: encoding only available for "base58", "base64" or "base64+zstd"'),s(`
`),n("span",{class:"token function"},"curl"),s(" http://api.mainnet-beta.solana.com -X POST -H "),n("span",{class:"token string"},'"Content-Type: application/json"'),s(" -d "),n("span",{class:"token string"},`'
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "base64",
        "dataSlice": {
          "offset": 0,
          "length": 0
        },
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 0,
              "bytes": "BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf"
            }
          }
        ]
      }
    ]
  }
'`),s(`

`),n("span",{class:"token comment"},"# Output:"),s(`
`),n("span",{class:"token comment"},"# {"),s(`
`),n("span",{class:"token comment"},'#   "jsonrpc": "2.0",'),s(`
`),n("span",{class:"token comment"},'#   "result": ['),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 313'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "FqWyVSLQgyRWyG1FuUGtHdTQHrEaBzXh1y9K6uPVTRZ4"'),s(`
`),n("span",{class:"token comment"},"#     },"),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 314'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "CMSC2GeWDsTPjfnhzCZHEqGRjKseBhrWaC2zNcfQQuGS"'),s(`
`),n("span",{class:"token comment"},"#     },"),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 314'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "61NfACb21WvuEzxyiJoxBrivpiLQ79gLBxzFo85BiJ2U"'),s(`
`),n("span",{class:"token comment"},"#     },"),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 313'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb"'),s(`
`),n("span",{class:"token comment"},"#     }"),s(`
`),n("span",{class:"token comment"},"#   ],"),s(`
`),n("span",{class:"token comment"},'#   "id": 1'),s(`
`),n("span",{class:"token comment"},"# }"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br")])],-1),xn=n("p",null,[s("By combining all three parameters ("),n("code",null,"dataSlice"),s(", "),n("code",null,"dataSize"),s(", and "),n("code",null,"memcmp"),s(") we can limit the scope of our query and efficiently return only the data we\u2019re interested in.")],-1),zn=n("h2",{id:"other-resources",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#other-resources","aria-hidden":"true"},"#"),s(" Other Resources")],-1),Fn={href:"https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts",target:"_blank",rel:"noopener noreferrer"},Hn=s("RPC API Documentation"),Wn={href:"https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getProgramAccounts",target:"_blank",rel:"noopener noreferrer"},Zn=s("Web3js Documentation"),Qn={href:"https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts",target:"_blank",rel:"noopener noreferrer"},Un=s("JSON-parsed Web3js Documentation");function jn(Vn,In){const e=l("ExternalLinkIcon"),u=l("RouterLink"),c=l("CodeGroupItem"),p=l("CodeGroup");return r(),m(b,null,[h,g,_,n("div",y,[w,n("ul",null,[A,n("li",null,[T,C,S,P,v,n("ul",null,[n("li",null,[D,E,N,M,R,n("a",K,[G,a(e)])]),n("li",null,[B,L,x,z,F,H,W,Z,Q,U,j,n("a",V,[I,a(e)])]),O,n("li",null,[Y,J,X,q,$,n("a",nn,[sn,a(e)])])])])]),an]),en,tn,n("ul",null,[cn,n("li",null,[on,n("a",ln,[pn,a(e)]),un]),n("li",null,[rn,n("a",mn,[bn,a(e)]),kn])]),dn,n("p",null,[fn,hn,gn,n("a",_n,[yn,a(e)]),wn,a(u,{to:"/references/accounts.html#get-program-accounts"},{default:t(()=>[An]),_:1}),Tn]),Cn,n("p",null,[Sn,n("a",Pn,[vn,a(e)]),Dn]),En,a(p,null,{default:t(()=>[a(c,{title:"TS",active:""},{default:t(()=>[Nn]),_:1}),a(c,{title:"Rust Client",active:""},{default:t(()=>[Mn]),_:1}),a(c,{title:"cURL",active:""},{default:t(()=>[Rn]),_:1})]),_:1}),Kn,a(p,null,{default:t(()=>[a(c,{title:"TS",active:""},{default:t(()=>[Gn]),_:1}),a(c,{title:"Rust Client",active:""},{default:t(()=>[Bn]),_:1}),a(c,{title:"cURL",active:""},{default:t(()=>[Ln]),_:1})]),_:1}),xn,zn,n("ul",null,[n("li",null,[n("a",Fn,[Hn,a(e)])]),n("li",null,[n("a",Wn,[Zn,a(e)])]),n("li",null,[n("a",Qn,[Un,a(e)])])])],64)}var Yn=i(f,[["render",jn]]);export{Yn as default};
