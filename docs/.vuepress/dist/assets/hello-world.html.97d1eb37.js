import{_ as e,r as o,o as c,c as l,a as n,b as p,F as u,d as a,e as t}from"./app.07ce7a66.js";var i="/assets/solpg.486fd175.gif";const r={},k=n("h1",{id:"pagbuo-ng-on-chain-na-laro-sa-solana",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#pagbuo-ng-on-chain-na-laro-sa-solana","aria-hidden":"true"},"#"),a(" Pagbuo ng on-chain na laro sa Solana")],-1),m=n("h2",{id:"pagsisimula-sa-iyong-unang-laro-ng-solana",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#pagsisimula-sa-iyong-unang-laro-ng-solana","aria-hidden":"true"},"#"),a(" Pagsisimula sa iyong unang laro ng Solana")],-1),g=n("p",null,"Walkthrough ng Video:",-1),b=n("div",{class:"video-block"},[n("iframe",{width:"320",height:"200",src:"https://www.youtube.com/embed/_vQ3bSs3svs",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1),d=n("p",null,"Live na Bersyon. (gamitin ang devnet sa naka-embed na bersyon)",-1),y=n("iframe",{height:"400",scrolling:"no",title:"OZXQWp",src:"https://solplay.de/TinyAdventure/index.html",frameborder:"no",allowtransparency:"true",allowfullscreen:"true",style:{width:"80%"}},`
`,-1),h=t('<h2 id="tiny-adventure" tabindex="-1"><a class="header-anchor" href="#tiny-adventure" aria-hidden="true">#</a> Tiny Adventure</h2><p>Ang Tiny Adventure ay isang beginner-friendly na programang Solana na nilikha gamit ang Anchor framework. Ang layunin ng program na ito ay ipakita sa iyo kung paano lumikha ng isang simpleng laro na nagbibigay-daan sa mga manlalaro na subaybayan ang kanilang posisyon at lumipat pakaliwa o kanan.</p><p>Ang Tiny Adventure Program ay binubuo lamang ng 3 mga instruction:</p><ul><li><code>initialize</code> - Ang instruction na ito ay nagse-set up ng on-chain na account upang iimbak ang posisyon ng manlalaro</li><li><code>move_left</code> - Hinahayaan ng pagtuturo na ito ang player na ilipat ang kanilang posisyon sa kaliwa</li><li><code>move_right</code> - Hinahayaan ng pagtuturo na ito ang player na ilipat ang kanilang posisyon sa kanan</li></ul>',4),_=a("Sa mga paparating na seksyon, tatalakayin natin ang proseso ng pagbuo ng larong ito nang sunud-sunod. Mahahanap mo ang kumpletong source code, na magagamit upang i-deploy mula sa iyong browser, sa "),w={href:"https://beta.solpg.io/tutorials/tiny-adventure",target:"_blank",rel:"noopener noreferrer"},f=a("halimbawa ng Solana Playground"),v=a("."),A=a("Kung kailangan mong maging pamilyar sa Anchor framework, huwag mag-atubiling tingnan ang Anchor module ng "),q={href:"https://www.soldev.app/course",target:"_blank",rel:"noopener noreferrer"},x=a("Solana Course"),D=a(" para makapagsimula."),S=n("h3",{id:"pagsisimula",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#pagsisimula","aria-hidden":"true"},"#"),a(" Pagsisimula")],-1),P=n("p",null,"Upang simulan ang pagbuo ng larong Tiny Adventure, sundin ang mga hakbang na ito:",-1),G=a("Bisitahin ang "),M={href:"https://beta.solpg.io/",target:"_blank",rel:"noopener noreferrer"},z=a("Solana Playground"),L=a(" at gumawa ng bagong Anchor project. Kung bago ka sa Solana Playground, kakailanganin mo ring gumawa ng Playground Wallet. Narito ang isang halimbawa kung paano gamitin ang Solana Playground:"),j=t('<p><img src="'+i+`" alt="solpg.gif"></p><p>Pagkatapos gumawa ng bagong proyekto, palitan ang default na starter code ng code sa ibaba:</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">anchor_lang<span class="token punctuation">::</span>prelude<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token macro property">declare_id!</span><span class="token punctuation">(</span><span class="token string">&quot;11111111111111111111111111111111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[program]</span>
<span class="token keyword">mod</span> <span class="token module-declaration namespace">tiny_adventure</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token keyword">super</span><span class="token punctuation">::</span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">print_player</span><span class="token punctuation">(</span>player_position<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;A Journey Begins!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;o.......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;..o.....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;....o...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">3</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;........\\\\o/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;You have reached the end! Super!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Sa larong ito, magsisimula ang manlalaro sa posisyon 0 at maaaring lumipat pakaliwa o pakanan. Upang ipakita ang pag-unlad ng manlalaro sa buong laro, gagamitin namin ang mga log ng mensahe upang ipakita ang kanilang paglalakbay.</p><h3 id="pagtukoy-sa-game-data-account" tabindex="-1"><a class="header-anchor" href="#pagtukoy-sa-game-data-account" aria-hidden="true">#</a> Pagtukoy sa Game Data Account</h3><p>Ang unang hakbang sa pagbuo ng laro ay upang tukuyin ang isang istraktura para sa on-chain na account na mag-iimbak ng posisyon ng manlalaro.</p><p>Ang <code>GameDataAccount</code> struct ay naglalaman ng isang field, <code>player_position</code>, na nag-iimbak ng kasalukuyang posisyon ng player bilang isang unsigned 8-bit integer.</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">anchor_lang<span class="token punctuation">::</span>prelude<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token macro property">declare_id!</span><span class="token punctuation">(</span><span class="token string">&quot;11111111111111111111111111111111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[program]</span>
<span class="token keyword">mod</span> <span class="token module-declaration namespace">tiny_adventure</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token keyword">super</span><span class="token punctuation">::</span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token punctuation">...</span>

<span class="token comment">// Define the Game Data Account structure</span>
<span class="token attribute attr-name">#[account]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">GameDataAccount</span> <span class="token punctuation">{</span>
    player_position<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="magsimula-ng-instruksyon" tabindex="-1"><a class="header-anchor" href="#magsimula-ng-instruksyon" aria-hidden="true">#</a> Magsimula ng Instruksyon</h3><p>Pagkatapos tukuyin ang account ng programa, ipatupad natin ang instruction na <code>initialize</code>. Sinisimulan ng instruction na ito ang <code>GameDataAccount</code> kung wala pa ito, itinatakda ang <code>player_position</code> sa 0, at mag-print ng ilang log ng mensahe.</p><p>Ang instruction na <code>initialize</code> ay nangangailangan ng 3 account:</p><ul><li><code>new_game_data_account</code> - ang <code>GameDataAccount</code> na sinisimulan namin</li><li><code>signer</code> - ang player na nagbabayad para sa initialization ng <code>GameDataAccount</code></li><li><code>system_program</code> - isang kinakailangang account kapag gumagawa ng bagong account</li></ul><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token attribute attr-name">#[program]</span>
<span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">tiny_adventure</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token keyword">super</span><span class="token punctuation">::</span><span class="token operator">*</span><span class="token punctuation">;</span>

    <span class="token comment">// Instruction to initialize GameDataAccount and set position to 0</span>
    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">initialize</span><span class="token punctuation">(</span>ctx<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token operator">&lt;</span><span class="token class-name">Initialize</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span>accounts<span class="token punctuation">.</span>new_game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;A Journey Begins!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;o.......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Specify the accounts required by the initialize instruction</span>
<span class="token attribute attr-name">#[derive(Accounts)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Initialize</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    #<span class="token punctuation">[</span><span class="token function">account</span><span class="token punctuation">(</span>
        init_if_needed<span class="token punctuation">,</span>
        seeds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">b&quot;level1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        bump<span class="token punctuation">,</span>
        payer <span class="token operator">=</span> signer<span class="token punctuation">,</span>
        space <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">pub</span> new_game_data_account<span class="token punctuation">:</span> <span class="token class-name">Account</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">GameDataAccount</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token attribute attr-name">#[account(mut)]</span>
    <span class="token keyword">pub</span> signer<span class="token punctuation">:</span> <span class="token class-name">Signer</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> system_program<span class="token punctuation">:</span> <span class="token class-name">Program</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>Sa halimbawang ito, ginagamit ang Program Derived Address (PDA) para sa <code>GameDataAccount</code> na address. Ito ay nagbibigay-daan sa amin na tiyak na mahanap ang address sa ibang pagkakataon. Mahalagang tandaan na ang PDA sa halimbawang ito ay nabuo na may iisang nakapirming halaga bilang seed (<code>level1</code>), na naglilimita sa aming programa sa paglikha lamang ng isang <code>GameDataAccount</code>. Ang <code>init_if_needed</code> constraint pagkatapos ay tinitiyak na ang <code>GameDataAccount</code> ay sinisimulan lamang kung hindi pa ito umiiral.</p><p>Ito ay nagkakahalaga na tandaan na ang kasalukuyang pagpapatupad ay walang anumang mga paghihigpit sa kung sino ang maaaring baguhin ang <code>GameDataAccount</code>. Epektibo nitong ginagawang isang multiplayer na karanasan ang laro kung saan makokontrol ng lahat ang paggalaw ng manlalaro.</p><p>Bilang kahalili, maaari mong gamitin ang address ng lumagda bilang isang karagdagang binhi sa pagtuturo na <code>initialize</code>, na magbibigay-daan sa bawat manlalaro na lumikha ng kanilang sariling <code>GameDataAccount</code>.</p><h3 id="ilipat-ang-instruksyon-sa-kaliwa" tabindex="-1"><a class="header-anchor" href="#ilipat-ang-instruksyon-sa-kaliwa" aria-hidden="true">#</a> Ilipat ang Instruksyon sa Kaliwa</h3><p>Ngayon na maaari na nating simulan ang isang <code>GameDataAccount</code> account, ipatupad natin ang instruction na <code>move_left</code>. Nagbibigay-daan ito sa isang player na i-update ang kanilang <code>player_position</code>. Sa halimbawang ito, ang paglipat sa kaliwa ay nangangahulugan lamang ng pagbabawas ng <code>player_position</code> ng 1. Itatakda din namin ang minimum na posisyon sa 0.</p><p>Ang tanging account na kailangan para sa pagtuturo na ito ay ang <code>GameDataAccount</code>.</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token attribute attr-name">#[program]</span>
<span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">tiny_adventure</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token keyword">super</span><span class="token punctuation">::</span><span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">...</span>

    <span class="token comment">// Instruction to move left</span>
    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">move_left</span><span class="token punctuation">(</span>ctx<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token operator">&lt;</span><span class="token class-name">MoveLeft</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> game_data_account <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> ctx<span class="token punctuation">.</span>accounts<span class="token punctuation">.</span>game_data_account<span class="token punctuation">;</span>
        <span class="token keyword">if</span> game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
            <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;You are back at the start.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">print_player</span><span class="token punctuation">(</span>game_data_account<span class="token punctuation">.</span>player_position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Specify the account required by the move_left instruction</span>
<span class="token attribute attr-name">#[derive(Accounts)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">MoveLeft</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[account(mut)]</span>
    <span class="token keyword">pub</span> game_data_account<span class="token punctuation">:</span> <span class="token class-name">Account</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">GameDataAccount</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="pagtuturo-sa-pakanan" tabindex="-1"><a class="header-anchor" href="#pagtuturo-sa-pakanan" aria-hidden="true">#</a> Pagtuturo sa Pakanan</h3><p>Panghuli, ipatupad natin ang instruction na <code>move_right</code>. Sa katulad na paraan, ang paglipat sa kanan ay nangangahulugan lamang ng pagtaas ng <code>player_position</code> ng 1. Nililimitahan din namin ang maximum na posisyon sa 3.</p><p>Katulad ng dati, ang tanging account na kailangan para sa pagtuturo na ito ay ang <code>GameDataAccount</code>.</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token attribute attr-name">#[program]</span>
<span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">tiny_adventure</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token keyword">super</span><span class="token punctuation">::</span><span class="token operator">*</span><span class="token punctuation">;</span>
		<span class="token punctuation">...</span>

		<span class="token comment">// Instruction to move right</span>
		<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">move_right</span><span class="token punctuation">(</span>ctx<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token operator">&lt;</span><span class="token class-name">MoveRight</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
		    <span class="token keyword">let</span> game_data_account <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> ctx<span class="token punctuation">.</span>accounts<span class="token punctuation">.</span>game_data_account<span class="token punctuation">;</span>
		    <span class="token keyword">if</span> game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">==</span> <span class="token number">3</span> <span class="token punctuation">{</span>
		        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;You have reached the end! Super!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		        game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">=</span> game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		        <span class="token function">print_player</span><span class="token punctuation">(</span>game_data_account<span class="token punctuation">.</span>player_position<span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span>
		    <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Specify the account required by the move_right instruction</span>
<span class="token attribute attr-name">#[derive(Accounts)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">MoveRight</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[account(mut)]</span>
    <span class="token keyword">pub</span> game_data_account<span class="token punctuation">:</span> <span class="token class-name">Account</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">GameDataAccount</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="i-build-at-i-deploy" tabindex="-1"><a class="header-anchor" href="#i-build-at-i-deploy" aria-hidden="true">#</a> I-build at I-deploy</h3><p>Nakumpleto na namin ngayon ang programang Tiny Adventure! Ang iyong panghuling programa ay dapat na katulad ng sumusunod:</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">anchor_lang<span class="token punctuation">::</span>prelude<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token comment">// This is your program&#39;s public key and it will update</span>
<span class="token comment">// automatically when you build the project.</span>
<span class="token macro property">declare_id!</span><span class="token punctuation">(</span><span class="token string">&quot;BouPBVWkdVHbxsdzqeMwkjqd5X67RX5nwMEwxn8MDpor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[program]</span>
<span class="token keyword">mod</span> <span class="token module-declaration namespace">tiny_adventure</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token keyword">super</span><span class="token punctuation">::</span><span class="token operator">*</span><span class="token punctuation">;</span>

    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">initialize</span><span class="token punctuation">(</span>ctx<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token operator">&lt;</span><span class="token class-name">Initialize</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span>accounts<span class="token punctuation">.</span>new_game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;A Journey Begins!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;o.......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">move_left</span><span class="token punctuation">(</span>ctx<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token operator">&lt;</span><span class="token class-name">MoveLeft</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> game_data_account <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> ctx<span class="token punctuation">.</span>accounts<span class="token punctuation">.</span>game_data_account<span class="token punctuation">;</span>
        <span class="token keyword">if</span> game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
            <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;You are back at the start.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">print_player</span><span class="token punctuation">(</span>game_data_account<span class="token punctuation">.</span>player_position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">move_right</span><span class="token punctuation">(</span>ctx<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token operator">&lt;</span><span class="token class-name">MoveRight</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> game_data_account <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> ctx<span class="token punctuation">.</span>accounts<span class="token punctuation">.</span>game_data_account<span class="token punctuation">;</span>
        <span class="token keyword">if</span> game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">==</span> <span class="token number">3</span> <span class="token punctuation">{</span>
            <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;You have reached the end! Super!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">=</span> game_data_account<span class="token punctuation">.</span>player_position <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">print_player</span><span class="token punctuation">(</span>game_data_account<span class="token punctuation">.</span>player_position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">print_player</span><span class="token punctuation">(</span>player_position<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;A Journey Begins!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;o.......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;..o.....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;....o...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> player_position <span class="token operator">==</span> <span class="token number">3</span> <span class="token punctuation">{</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;........\\\\o/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token macro property">msg!</span><span class="token punctuation">(</span><span class="token string">&quot;You have reached the end! Super!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[derive(Accounts)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Initialize</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    #<span class="token punctuation">[</span><span class="token function">account</span><span class="token punctuation">(</span>
        init_if_needed<span class="token punctuation">,</span>
        seeds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">b&quot;level1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        bump<span class="token punctuation">,</span>
        payer <span class="token operator">=</span> signer<span class="token punctuation">,</span>
        space <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">pub</span> new_game_data_account<span class="token punctuation">:</span> <span class="token class-name">Account</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">GameDataAccount</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token attribute attr-name">#[account(mut)]</span>
    <span class="token keyword">pub</span> signer<span class="token punctuation">:</span> <span class="token class-name">Signer</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> system_program<span class="token punctuation">:</span> <span class="token class-name">Program</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[derive(Accounts)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">MoveLeft</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[account(mut)]</span>
    <span class="token keyword">pub</span> game_data_account<span class="token punctuation">:</span> <span class="token class-name">Account</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">GameDataAccount</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[derive(Accounts)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">MoveRight</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[account(mut)]</span>
    <span class="token keyword">pub</span> game_data_account<span class="token punctuation">:</span> <span class="token class-name">Account</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;info</span><span class="token punctuation">,</span> <span class="token class-name">GameDataAccount</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[account]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">GameDataAccount</span> <span class="token punctuation">{</span>
    player_position<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><p>Sa pagtatapos ng programa, oras na para buuin at i-deploy ito sa Solana Playground!</p><p>Kung ito ang unang pagkakataon mong gumamit ng Solana Playground, gumawa muna ng Playground Wallet at tiyaking nakakonekta ka sa isang Devnet endpoint. Pagkatapos, patakbuhin ang <code>solana airdrop 2</code> hanggang sa magkaroon ka ng 6 na SOL. Kapag mayroon kang sapat na SOL, buuin at i-deploy ang programa.</p><h3 id="magsimula-sa-kliyente" tabindex="-1"><a class="header-anchor" href="#magsimula-sa-kliyente" aria-hidden="true">#</a> Magsimula sa Kliyente</h3><p>Gagabayan ka ng susunod na seksyong ito sa isang simpleng pagpapatupad sa panig ng kliyente para sa pakikipag-ugnayan sa laro. Susuriin namin ang code at magbibigay ng mga detalyadong paliwanag para sa bawat hakbang. Sa Solana Playground, mag-navigate sa <code>client.ts</code> file at idagdag ang mga snippet ng code mula sa mga sumusunod na seksyon.</p>`,31),I=a("Una, kunin natin ang PDA para sa "),T=n("code",null,"GameDataAccount",-1),B=a(". Ang PDA ay isang natatanging address sa format ng isang pampublikong susi, na hinango gamit ang ID ng programa at mga karagdagang binhi. Huwag mag-atubiling tingnan ang mga PDA lesson ng "),R={href:"https://www.soldev.app/course",target:"_blank",rel:"noopener noreferrer"},H=a("Solana Course"),K=a(" para sa higit pang mga detalye."),N=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// The PDA adress everyone will be able to control the character if the interact with your program</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>globalLevel1GameDataAccount<span class="token punctuation">,</span> bump<span class="token punctuation">]</span> <span class="token operator">=</span>
  <span class="token keyword">await</span> anchor<span class="token punctuation">.</span>web3<span class="token punctuation">.</span>PublicKey<span class="token punctuation">.</span><span class="token function">findProgramAddress</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span>Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;level1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;utf8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    pg<span class="token punctuation">.</span>program<span class="token punctuation">.</span>programId
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Susunod, subukan nating kunin ang account ng data ng laro gamit ang PDA mula sa nakaraang hakbang. Kung wala ang account, gagawin namin ito sa pamamagitan ng paggamit ng <code>initialize</code> na pagtuturo mula sa aming programa.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> txHash<span class="token punctuation">;</span>
<span class="token keyword">let</span> gameDateAccount<span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  gameDateAccount <span class="token operator">=</span> <span class="token keyword">await</span> pg<span class="token punctuation">.</span>program<span class="token punctuation">.</span>account<span class="token punctuation">.</span>gameDataAccount<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>
    globalLevel1GameDataAccount
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
  <span class="token comment">// Check if the account is already initialized, other wise initialize it</span>
  txHash <span class="token operator">=</span> <span class="token keyword">await</span> pg<span class="token punctuation">.</span>program<span class="token punctuation">.</span>methods
    <span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">accounts</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">newGameDataAccount</span><span class="token operator">:</span> globalLevel1GameDataAccount<span class="token punctuation">,</span>
      <span class="token literal-property property">signer</span><span class="token operator">:</span> pg<span class="token punctuation">.</span>wallet<span class="token punctuation">.</span>publicKey<span class="token punctuation">,</span>
      <span class="token literal-property property">systemProgram</span><span class="token operator">:</span> web3<span class="token punctuation">.</span>SystemProgram<span class="token punctuation">.</span>programId<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">signers</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pg<span class="token punctuation">.</span>wallet<span class="token punctuation">.</span>keypair<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">rpc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Use &#39;solana confirm -v </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>txHash<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39; to see the logs</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> pg<span class="token punctuation">.</span>connection<span class="token punctuation">.</span><span class="token function">confirmTransaction</span><span class="token punctuation">(</span>txHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;A journey begins...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;o........&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>Ngayon ay handa na kaming makipag-ugnayan sa laro sa pamamagitan ng paggalaw sa kaliwa o kanan. Ginagawa ito sa pamamagitan ng paggamit ng <code>moveLeft</code> o <code>moveRight</code> na mga instruction na mula sa programa at pagsusumite ng transaksyon sa Solana network. Maaari mong ulitin ang hakbang na ito nang maraming beses hangga&#39;t gusto mo.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Here you can play around now, move left and right</span>
txHash <span class="token operator">=</span> <span class="token keyword">await</span> pg<span class="token punctuation">.</span>program<span class="token punctuation">.</span>methods
  <span class="token comment">//.moveLeft()</span>
  <span class="token punctuation">.</span><span class="token function">moveRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">accounts</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">gameDataAccount</span><span class="token operator">:</span> globalLevel1GameDataAccount<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">signers</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pg<span class="token punctuation">.</span>wallet<span class="token punctuation">.</span>keypair<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">rpc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Use &#39;solana confirm -v </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>txHash<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39; to see the logs</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> pg<span class="token punctuation">.</span>connection<span class="token punctuation">.</span><span class="token function">confirmTransaction</span><span class="token punctuation">(</span>txHash<span class="token punctuation">)</span><span class="token punctuation">;</span>

gameDateAccount <span class="token operator">=</span> <span class="token keyword">await</span> pg<span class="token punctuation">.</span>program<span class="token punctuation">.</span>account<span class="token punctuation">.</span>gameDataAccount<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>
  globalLevel1GameDataAccount
<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Player position is:&quot;</span><span class="token punctuation">,</span> gameDateAccount<span class="token punctuation">.</span>playerPosition<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Panghuli, gumamit tayo ng statement na <code>switch</code> para i-log ang posisyon ng character batay sa value ng <code>playerPosition</code> na naka-store sa <code>gameDateAccount</code>. Gagamitin namin ito bilang isang visual na representasyon ng paggalaw ng character sa laro.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>gameDateAccount<span class="token punctuation">.</span>playerPosition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;A journey begins...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;o........&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;....o....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;......o..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;.........\\\\o/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Panghuli, patakbuhin ang kliyente sa pamamagitan ng pag-click sa pindutang &quot;Run&quot; sa Solana Playground. Ang output ay dapat na katulad ng sumusunod:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Running client...
  client.ts:
    My address: 8ujtDmwpkQ4Bp4GU4zUWmzf65sc21utdcxFAELESca22
    My balance: 4.649749614 SOL
    Use &#39;solana confirm -v 4MRXEWfGqvmro1KsKb94Zz8qTZsPa9x99oMFbLBz2WicLnr8vdYYsQwT5u3pK5Vt1i9BDrVH5qqTXwtif6sCRJCy&#39; to see the logs
    Player position is: 1
    ....o....
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,9),C=a("Binabati kita! Matagumpay mong nagawa, na-deploy, at nagamit ang larong Tiny Adventure mula sa kliyente. Upang higit pang mailarawan ang mga posibilidad, tingnan ang "),O={href:"https://nextjs-tiny-adventure.vercel.app/",target:"_blank",rel:"noopener noreferrer"},W=a("demo"),U=a(" na ito na nagpapakita kung paano makipag-ugnayan sa programang Tiny Adventure sa pamamagitan ng Next.js frontend."),V=t('<h3 id="where-to-go-from-here" tabindex="-1"><a class="header-anchor" href="#where-to-go-from-here" aria-hidden="true">#</a> Where to Go from Here</h3><h3 id="saan-pupunta-mula-dito" tabindex="-1"><a class="header-anchor" href="#saan-pupunta-mula-dito" aria-hidden="true">#</a> Saan Pupunta Mula Dito</h3><p>Nang kumpleto na ang pangunahing laro, ipamalas ang iyong pagkamalikhain at magsanay sa pagbuo nang nakapag-iisa sa pamamagitan ng pagpapatupad ng sarili mong mga ideya para pagyamanin ang karanasan sa laro. Narito ang ilang mungkahi:</p><ol><li>Baguhin ang mga in-game na teksto upang lumikha ng isang nakakaintriga na kuwento. Anyayahan ang isang kaibigan na maglaro sa pamamagitan ng iyong custom na salaysay at obserbahan ang mga on-chain na transaksyon habang nangyayari ang mga ito!</li><li>Magdagdag ng chest na nagbibigay ng reward sa mga manlalaro ng <a href="./store-sol-in-pda">Sol Rewards</a> o hayaan ang player na mangolekta ng mga barya <a href="./interact-with-token">Makipag-ugnayan sa mga token</a> habang sumusulong sila sa laro .</li><li>Gumawa ng grid na nagbibigay-daan sa player na lumipat pataas, pababa, kaliwa, at kanan, at magpakilala ng maraming manlalaro para sa isang mas dynamic na karanasan.</li></ol><p>Sa susunod na yugto, <a href="./store-sol-in-pda">Tiny Adventure Two</a>, matututunan natin kung paano mag-imbak ng SOL sa programa at ipamahagi ito sa mga manlalaro bilang mga reward.</p>',5);function Y(E,J){const s=o("ExternalLinkIcon");return c(),l(u,null,[k,m,g,b,d,y,h,n("p",null,[_,n("a",w,[f,p(s)]),v]),n("p",null,[A,n("a",q,[x,p(s)]),D]),S,P,n("p",null,[G,n("a",M,[z,p(s)]),L]),j,n("p",null,[I,T,B,n("a",R,[H,p(s)]),K]),N,n("p",null,[C,n("a",O,[W,p(s)]),U]),V],64)}var F=e(r,[["render",Y]]);export{F as default};
