import{_ as o,r,o as c,c as i,a,b as e,F as p,e as t,d as s}from"./app.07ce7a66.js";var l="/assets/tx_format.1023848a.png",d="/assets/compact_array_format.6984243f.png",u="/assets/legacy_message.09ab30b7.png",m="/assets/message_header.8eb7d589.png",h="/assets/compat_array_of_account_addresses.7792e5c7.png",g="/assets/compact_array_of_ixs.6281d70b.png",b="/assets/issues_with_legacy_txs.5766db66.png",_="/assets/luts.96a8a310.png",k="/assets/lut_format.060d6be2.png",y="/assets/messagev0.c089b240.png",f="/assets/compact_array_of_luts.9175e491.png",v="/assets/new_compact_array_of_ixs.54090dc5.png";const x={},T=t('<h1 id="versioned-transactions" tabindex="-1"><a class="header-anchor" href="#versioned-transactions" aria-hidden="true">#</a> Versioned Transactions</h1><p>Solana \u0E40\u0E1E\u0E34\u0E48\u0E07\u0E08\u0E30\u0E1B\u0E25\u0E48\u0E2D\u0E22 Versioned Transactions \u0E2D\u0E2D\u0E01\u0E21\u0E32\u0E42\u0E14\u0E22\u0E21\u0E35\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E44\u0E1B\u0E01\u0E47\u0E04\u0E37\u0E2D:</p><ol><li><p>\u0E21\u0E35 program \u0E17\u0E35\u0E48\u0E40\u0E2D\u0E32\u0E44\u0E27\u0E49\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23 on-chain address lookup tables</p></li><li><p>\u0E21\u0E35 transaction \u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E43\u0E2B\u0E21\u0E48\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 on-chain address lookup tables \u0E44\u0E14\u0E49</p></li></ol><h2 id="facts-\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E19\u0E48\u0E32\u0E23\u0E39\u0E49" tabindex="-1"><a class="header-anchor" href="#facts-\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E19\u0E48\u0E32\u0E23\u0E39\u0E49" aria-hidden="true">#</a> Facts (\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E19\u0E48\u0E32\u0E23\u0E39\u0E49)</h2><div class="custom-container tip"><p class="custom-container-title">Fact Sheet</p><ul><li>Transaction \u0E41\u0E1A\u0E1A\u0E40\u0E01\u0E48\u0E32\u0E08\u0E30\u0E21\u0E35\u0E02\u0E49\u0E2D\u0E08\u0E33\u0E01\u0E31\u0E14\u0E2D\u0E22\u0E39\u0E48: \u0E02\u0E19\u0E32\u0E14\u0E08\u0E33\u0E01\u0E31\u0E14\u0E2D\u0E22\u0E39\u0E48\u0E17\u0E35\u0E48 1232 bytes, \u0E14\u0E31\u0E07\u0E19\u0E31\u0E49\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19 accounts \u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A\u0E44\u0E14\u0E49\u0E43\u0E19 atomic transaction \u0E04\u0E37\u0E2D: 35 addresses.</li><li>Address Lookup Tables (LUTs): \u0E40\u0E21\u0E37\u0E48\u0E2D accounts \u0E16\u0E39\u0E01\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A\u0E43\u0E19\u0E15\u0E32\u0E23\u0E32\u0E07\u0E19\u0E35\u0E49 \u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E02\u0E2D\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07\u0E43\u0E19 transaction message \u0E42\u0E14\u0E22\u0E43\u0E0A\u0E49\u0E14\u0E31\u0E0A\u0E19\u0E35(index) u8 \u0E02\u0E19\u0E32\u0E14 1 \u0E44\u0E1A\u0E15\u0E4C</li><li><code>createLookupTable()</code> \u0E43\u0E19 <code>solana/web3.js</code> \u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E43\u0E0A\u0E49\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E43\u0E2B\u0E21\u0E48\u0E44\u0E14\u0E49 \u0E41\u0E25\u0E30\u0E2B\u0E32\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E02\u0E2D\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07\u0E44\u0E14\u0E49</li><li>\u0E40\u0E21\u0E37\u0E48\u0E2D LUT \u0E16\u0E39\u0E01\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E41\u0E25\u0E49\u0E27 \u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E02\u0E22\u0E32\u0E22\u0E44\u0E14\u0E49 \u0E01\u0E25\u0E48\u0E32\u0E27\u0E04\u0E37\u0E2D\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E43\u0E19\u0E15\u0E32\u0E23\u0E32\u0E07\u0E44\u0E14\u0E49</li><li>Versioned Transactions: \u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07\u0E18\u0E38\u0E23\u0E01\u0E23\u0E23\u0E21\u0E40\u0E01\u0E48\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E16\u0E39\u0E01\u0E1B\u0E23\u0E31\u0E1A\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E23\u0E27\u0E21 LUTs \u0E40\u0E02\u0E49\u0E32\u0E44\u0E1B</li><li>\u0E01\u0E48\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E08\u0E30\u0E21\u0E35\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E21\u0E32\u0E43\u0E0A\u0E49 version \u0E43\u0E2B\u0E21\u0E48\u0E19\u0E35\u0E49 \u0E43\u0E19 Transactions \u0E08\u0E30\u0E21\u0E35 bit \u0E1A\u0E19\u0E2A\u0E38\u0E14\u0E02\u0E2D\u0E07 byte \u0E41\u0E23\u0E01\u0E43\u0E19 header \u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E2D\u0E32\u0E21\u0E32\u0E43\u0E0A\u0E49\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E43\u0E19\u0E01\u0E32\u0E23\u0E23\u0E30\u0E1A\u0E38 version \u0E02\u0E2D\u0E07 Transactions \u0E44\u0E14\u0E49</li></ul></div><p>\u0E40\u0E23\u0E32\u0E08\u0E30\u0E1E\u0E39\u0E14\u0E16\u0E36\u0E07\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07 \u0E41\u0E25\u0E30 developers \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E02\u0E49\u0E32\u0E43\u0E08\u0E2D\u0E30\u0E44\u0E23\u0E1A\u0E49\u0E32\u0E07\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E21\u0E32\u0E01\u0E02\u0E36\u0E49\u0E19 \u0E2D\u0E22\u0E48\u0E32\u0E07\u0E44\u0E23\u0E01\u0E47\u0E15\u0E32\u0E21 \u0E40\u0E23\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E40\u0E02\u0E49\u0E32\u0E43\u0E08\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07 (anatomy)\u200B\u0E02\u0E2D\u0E07 transaction \u0E1B\u0E01\u0E15\u0E34 (\u0E2B\u0E23\u0E37\u0E2D\u0E40\u0E01\u0E48\u0E32) \u0E01\u0E48\u0E2D\u0E19\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E40\u0E02\u0E49\u0E32\u0E43\u0E08\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E44\u0E14\u0E49\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E0A\u0E31\u0E14\u0E40\u0E08\u0E19</p><h2 id="legacy-transaction" tabindex="-1"><a class="header-anchor" href="#legacy-transaction" aria-hidden="true">#</a> Legacy Transaction</h2>',7),q=s("The Solana network \u0E43\u0E0A\u0E49\u0E02\u0E19\u0E32\u0E14 maximum transactional unit (MTU) \u0E2D\u0E22\u0E39\u0E48\u0E17\u0E35\u0E48 1280 bytes, \u0E15\u0E32\u0E21\u0E02\u0E49\u0E2D\u0E08\u0E33\u0E01\u0E31\u0E14\u0E02\u0E19\u0E32\u0E14\u0E02\u0E2D\u0E07 "),w={href:"https://en.wikipedia.org/wiki/IPv6_packet",target:"_blank",rel:"noopener noreferrer"},L=s("IPv6 MTU"),C=s(" \u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E43\u0E2B\u0E49\u0E21\u0E35\u0E04\u0E27\u0E32\u0E21\u0E40\u0E23\u0E47\u0E27 \u0E41\u0E25\u0E30\u0E40\u0E0A\u0E37\u0E48\u0E2D\u0E16\u0E37\u0E2D\u0E44\u0E14\u0E49 \u0E0B\u0E36\u0E48\u0E07\u0E17\u0E33\u0E43\u0E2B\u0E49\u0E40\u0E2B\u0E25\u0E37\u0E2D "),V=a("strong",null,"1232 bytes",-1),A=s(" \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A packet data \u0E40\u0E0A\u0E48\u0E19 serialised transactions."),S=a("p",null,"Transaction \u0E1B\u0E23\u0E30\u0E01\u0E2D\u0E1A\u0E14\u0E49\u0E27\u0E22:",-1),U=s("Array \u0E02\u0E2D\u0E07 signatures, \u0E15\u0E31\u0E27\u0E25\u0E30 64 byte \u0E43\u0E19\u0E41\u0E1A\u0E1A "),M={href:"https://ed25519.cr.yp.to/",target:"_blank",rel:"noopener noreferrer"},j=s("ed25519"),I=s("."),B=a("li",null,"Message (\u0E41\u0E1A\u0E1A\u0E40\u0E01\u0E48\u0E32)",-1),P=a("p",null,[a("img",{src:l,alt:"Transaction Format"})],-1),H={class:"custom-container tip"},N=a("p",{class:"custom-container-title"},"Compact-Array format",-1),R=a("p",null,"Compact array \u0E04\u0E37\u0E2D array \u0E17\u0E35\u0E48\u0E16\u0E39\u0E01 serialised \u0E15\u0E32\u0E21\u0E19\u0E35\u0E49:",-1),F=s("\u0E04\u0E27\u0E32\u0E21\u0E22\u0E32\u0E27 Array \u0E43\u0E19\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A multi-byte encoding \u0E17\u0E35\u0E48\u0E40\u0E23\u0E35\u0E22\u0E01\u0E27\u0E48\u0E32 "),W={href:"https://beta.docs.solana.com/developing/programming-model/transactions#compact-u16-format",target:"_blank",rel:"noopener noreferrer"},D=s("Compact-u16"),E=a("li",null,"\u0E15\u0E32\u0E21\u0E14\u0E49\u0E27\u0E22\u0E41\u0E15\u0E48\u0E25\u0E30\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E02\u0E2D\u0E07 array item",-1),K=a("p",null,[a("img",{src:d,alt:"Compact array format"})],-1),G=t('<h2 id="legacy-message" tabindex="-1"><a class="header-anchor" href="#legacy-message" aria-hidden="true">#</a> Legacy Message</h2><p>Legacy Message \u0E41\u0E1A\u0E1A\u0E40\u0E01\u0E48\u0E32\u0E08\u0E30\u0E1B\u0E23\u0E30\u0E01\u0E2D\u0E1A\u0E14\u0E49\u0E27\u0E22\u0E2A\u0E48\u0E27\u0E19\u0E15\u0E48\u0E2D\u0E44\u0E1B\u0E19\u0E35\u0E49:</p><ol><li>\u0E2A\u0E48\u0E27\u0E19\u0E2B\u0E31\u0E27\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07 (header)</li><li>compact-array \u0E02\u0E2D\u0E07 account addresses, \u0E17\u0E35\u0E48\u0E41\u0E15\u0E48\u0E25\u0E30 account address \u0E08\u0E30\u0E21\u0E35\u0E02\u0E19\u0E32\u0E14 32 bytes</li><li>blockhash \u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14 (recent blockhash)</li></ol><ul><li>\u0E04\u0E37\u0E2D 32-byte SHA-256 hash \u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E1A\u0E2D\u0E01\u0E40\u0E27\u0E25\u0E32\u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14\u0E17\u0E35\u0E48\u0E25\u0E47\u0E2D\u0E04\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E16\u0E39\u0E01\u0E15\u0E23\u0E27\u0E08\u0E1E\u0E1A \u0E16\u0E49\u0E32 blockhash \u0E40\u0E01\u0E48\u0E32\u0E40\u0E01\u0E34\u0E19\u0E44\u0E1B validator \u0E08\u0E30\u0E1B\u0E0F\u0E34\u0E40\u0E2A\u0E18.</li></ul><ol start="4"><li>compact-array \u0E02\u0E2D\u0E07 Instructions</li></ol><p><img src="'+u+'" alt="Legacy Message"></p><h3 id="header" tabindex="-1"><a class="header-anchor" href="#header" aria-hidden="true">#</a> Header</h3><p>\u0E2B\u0E31\u0E27\u0E02\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21 (message header) \u0E08\u0E30\u0E21\u0E35\u0E02\u0E19\u0E32\u0E14 3 bytes \u0E41\u0E25\u0E30\u0E21\u0E35 u8 integers 3 \u0E15\u0E31\u0E27:</p><ol><li>\u0E08\u0E33\u0E19\u0E27\u0E19\u0E25\u0E32\u0E22\u0E40\u0E0B\u0E47\u0E19\u0E17\u0E35\u0E48\u0E08\u0E33\u0E40\u0E1B\u0E47\u0E19 (required signatures): Solana runtime \u0E08\u0E30\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E08\u0E33\u0E19\u0E27\u0E19\u0E19\u0E35\u0E49\u0E01\u0E31\u0E1A\u0E04\u0E27\u0E32\u0E21\u0E22\u0E32\u0E27\u0E02\u0E2D\u0E07 compact array \u0E02\u0E2D\u0E07 signatures \u0E43\u0E19 transaction.</li><li>\u0E08\u0E33\u0E19\u0E27\u0E19\u0E02\u0E2D\u0E07\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27 (read-only account addresses) \u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 signatures</li><li>\u0E08\u0E33\u0E19\u0E27\u0E19\u0E02\u0E2D\u0E07\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27 (read-only account addresses) \u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 signatures</li></ol><p><img src="'+m+'" alt="Message Header"></p><h3 id="compact-array-\u0E02\u0E2D\u0E07-account-addresses" tabindex="-1"><a class="header-anchor" href="#compact-array-\u0E02\u0E2D\u0E07-account-addresses" aria-hidden="true">#</a> Compact-array \u0E02\u0E2D\u0E07 account addresses</h3><p>Compact array \u0E19\u0E35\u0E49\u0E08\u0E30\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22\u0E01\u0E32\u0E23\u0E40\u0E02\u0E49\u0E32\u0E23\u0E2B\u0E31\u0E2A\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E08\u0E33\u0E19\u0E27\u0E19\u0E02\u0E2D\u0E07 account addresses \u0E42\u0E14\u0E22\u0E43\u0E0A\u0E49 Compact-u16 \u0E15\u0E32\u0E21\u0E14\u0E49\u0E27\u0E22:</p><ol><li><strong>Account addresses \u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 signatures</strong>: \u0E41\u0E2A\u0E14\u0E07\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E02\u0E2D\u0E07\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C\u0E01\u0E32\u0E23\u0E2D\u0E48\u0E32\u0E19 \u0E41\u0E25\u0E30\u0E40\u0E02\u0E35\u0E22\u0E19\u0E01\u0E48\u0E2D\u0E19 \u0E41\u0E25\u0E49\u0E27\u0E15\u0E32\u0E21\u0E14\u0E49\u0E27\u0E22\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27</li><li><strong>Account addresses \u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 signatures</strong>: \u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E02\u0E49\u0E32\u0E07\u0E1A\u0E19\u0E04\u0E37\u0E2D \u0E41\u0E2A\u0E14\u0E07\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E02\u0E2D\u0E07\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C\u0E01\u0E32\u0E23\u0E2D\u0E48\u0E32\u0E19 \u0E41\u0E25\u0E30\u0E40\u0E02\u0E35\u0E22\u0E19\u0E01\u0E48\u0E2D\u0E19 \u0E41\u0E25\u0E49\u0E27\u0E15\u0E32\u0E21\u0E14\u0E49\u0E27\u0E22\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27</li></ol><p><img src="'+h+'" alt="Compact array \u0E02\u0E2D\u0E07 account addresses"></p><h3 id="compact-array-\u0E02\u0E2D\u0E07-instructions" tabindex="-1"><a class="header-anchor" href="#compact-array-\u0E02\u0E2D\u0E07-instructions" aria-hidden="true">#</a> Compact array \u0E02\u0E2D\u0E07 instructions</h3><p>\u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E01\u0E31\u0E1A compact array \u0E02\u0E2D\u0E07 account addresses, compact array \u0E08\u0E30\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22\u0E01\u0E32\u0E23 encode \u0E08\u0E33\u0E19\u0E27\u0E19\u0E02\u0E2D\u0E07 instructions \u0E42\u0E14\u0E22\u0E43\u0E0A\u0E49 <code>Compact-u16</code> \u0E41\u0E25\u0E49\u0E27\u0E15\u0E32\u0E21\u0E14\u0E49\u0E27\u0E22 array \u0E02\u0E2D\u0E07 instructions \u0E41\u0E15\u0E48\u0E25\u0E30\u0E15\u0E31\u0E27\u0E17\u0E35\u0E48\u0E21\u0E35\u0E2A\u0E48\u0E27\u0E19\u0E1B\u0E23\u0E30\u0E01\u0E2D\u0E1A\u0E14\u0E31\u0E07\u0E19\u0E35\u0E49:</p><ol><li><strong>Program ID</strong>: \u0E23\u0E30\u0E1A\u0E38\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21 on-chain \u0E17\u0E35\u0E48\u0E08\u0E30\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23 instruction \u0E19\u0E35\u0E49 \u0E0B\u0E36\u0E48\u0E07\u0E08\u0E30\u0E41\u0E17\u0E19\u0E14\u0E49\u0E27\u0E22 index \u0E02\u0E2D\u0E07 u8 \u0E43\u0E19 compact array \u0E02\u0E2D\u0E07 account addresses \u0E20\u0E32\u0E22\u0E43\u0E19 message.</li><li><strong>Compact array \u0E02\u0E2D\u0E07 account address indexes</strong>: u8 indexes \u0E02\u0E2D\u0E07 account addresses \u0E43\u0E19 compact array \u0E02\u0E2D\u0E07 account addresses \u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 signatures.</li><li><strong>Compact array \u0E02\u0E2D\u0E07 opaque u8 data</strong>: array \u0E02\u0E2D\u0E07 byte \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E17\u0E31\u0E48\u0E27\u0E44\u0E1B\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A program ID \u0E17\u0E35\u0E48\u0E40\u0E04\u0E22\u0E1E\u0E39\u0E14\u0E16\u0E36\u0E07\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E19\u0E35\u0E49. array \u0E02\u0E2D\u0E07 data \u0E19\u0E35\u0E49\u0E08\u0E30\u0E23\u0E30\u0E1A\u0E38\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E04\u0E27\u0E23\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23 \u0E41\u0E25\u0E30\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21\u0E2D\u0E37\u0E48\u0E19\u0E46 \u0E17\u0E35\u0E48\u0E2D\u0E32\u0E08\u0E44\u0E21\u0E48\u0E21\u0E35\u0E1A\u0E2D\u0E01\u0E44\u0E27\u0E49\u0E43\u0E19 account.</li></ol><p><img src="'+g+'" alt="Compact array \u0E02\u0E2D\u0E07 Instructions"></p><h2 id="\u0E02\u0E49\u0E2D\u0E08\u0E4D\u0E32\u0E01\u0E31\u0E14\u0E02\u0E2D\u0E07-legacy-transactions" tabindex="-1"><a class="header-anchor" href="#\u0E02\u0E49\u0E2D\u0E08\u0E4D\u0E32\u0E01\u0E31\u0E14\u0E02\u0E2D\u0E07-legacy-transactions" aria-hidden="true">#</a> \u0E02\u0E49\u0E2D\u0E08\u0E33\u0E01\u0E31\u0E14\u0E02\u0E2D\u0E07 Legacy Transactions</h2><p>\u0E1B\u0E31\u0E0D\u0E2B\u0E32\u0E43\u0E19 Legacy Transactions \u0E04\u0E37\u0E2D\u0E2D\u0E30\u0E44\u0E23?</p><p><strong>\u0E02\u0E19\u0E32\u0E14\u0E02\u0E2D\u0E07 transaction \u0E0B\u0E36\u0E48\u0E07\u0E2B\u0E21\u0E32\u0E22\u0E16\u0E36\u0E07\u0E08\u0E33\u0E19\u0E27\u0E19\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E17\u0E35\u0E48\u0E08\u0E30\u0E43\u0E0A\u0E49\u0E44\u0E14\u0E49\u0E43\u0E19 atomic transaction \u0E44\u0E14\u0E49.</strong></p><p>\u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22\u0E44\u0E27\u0E49\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E19\u0E35\u0E49 \u0E02\u0E19\u0E32\u0E14\u0E02\u0E2D\u0E07 Transaction \u0E17\u0E35\u0E48\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E2A\u0E39\u0E07\u0E2A\u0E38\u0E14\u0E04\u0E37\u0E2D <strong>1232 bytes</strong>. \u0E02\u0E19\u0E32\u0E14\u0E02\u0E2D\u0E07 account address \u0E04\u0E37\u0E2D 32 bytes. \u0E14\u0E31\u0E07\u0E19\u0E31\u0E49\u0E19 transaction \u0E08\u0E30\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E01\u0E47\u0E1A accounts \u0E44\u0E14\u0E49\u0E21\u0E32\u0E01\u0E17\u0E35\u0E48\u0E2A\u0E38\u0E14 <strong>35 accounts</strong> \u0E42\u0E14\u0E22\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35\u0E1E\u0E37\u0E49\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A headers signatures \u0E41\u0E25\u0E30\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 metadata \u0E14\u0E49\u0E27\u0E22.</p><p><img src="'+b+'" alt="\u0E02\u0E49\u0E2D\u0E08\u0E33\u0E01\u0E31\u0E14\u0E02\u0E2D\u0E07 legacy transactions"></p><p>\u0E19\u0E35\u0E48\u0E40\u0E1B\u0E47\u0E19\u0E1B\u0E31\u0E0D\u0E2B\u0E32\u0E40\u0E1E\u0E23\u0E32\u0E30\u0E21\u0E35\u0E01\u0E23\u0E13\u0E35\u0E2B\u0E25\u0E32\u0E22\u0E01\u0E23\u0E13\u0E35\u0E17\u0E35\u0E48 developers \u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E43\u0E2A\u0E48 100 signature-free accounts \u0E43\u0E19 transaction \u0E40\u0E14\u0E35\u0E22\u0E27. \u0E0B\u0E36\u0E48\u0E07 legacy transaction \u0E40\u0E14\u0E34\u0E21\u0E19\u0E31\u0E49\u0E19\u0E08\u0E30\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E23\u0E2D\u0E07\u0E23\u0E31\u0E1A\u0E44\u0E14\u0E49. \u0E27\u0E34\u0E18\u0E35\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E25\u0E31\u0E07\u0E16\u0E39\u0E01\u0E19\u0E33\u0E21\u0E32\u0E43\u0E0A\u0E49\u0E04\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A\u0E2A\u0E16\u0E32\u0E19\u0E30 (state) \u0E0A\u0E31\u0E48\u0E27\u0E04\u0E23\u0E32\u0E27 on-chain \u0E41\u0E25\u0E30\u0E19\u0E33\u0E44\u0E1B\u0E43\u0E0A\u0E49\u0E43\u0E19 transactions \u0E17\u0E35\u0E2B\u0E25\u0E31\u0E07. \u0E0B\u0E36\u0E48\u0E07 workaround \u0E19\u0E35\u0E49\u0E08\u0E30\u0E43\u0E0A\u0E49\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E40\u0E27\u0E25\u0E32\u0E43\u0E0A\u0E49 multiple programs \u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07 compose \u0E43\u0E19 transaction \u0E40\u0E14\u0E35\u0E22\u0E27. \u0E0B\u0E36\u0E48\u0E07\u0E41\u0E15\u0E48\u0E25\u0E30 program \u0E01\u0E47\u0E08\u0E30\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 accounts \u0E2B\u0E25\u0E32\u0E22\u0E15\u0E31\u0E27\u0E40\u0E1B\u0E47\u0E19 input \u0E17\u0E33\u0E43\u0E2B\u0E49\u0E40\u0E23\u0E32\u0E40\u0E08\u0E2D\u0E01\u0E31\u0E1A\u0E02\u0E49\u0E2D\u0E08\u0E33\u0E01\u0E31\u0E14\u0E40\u0E14\u0E34\u0E21\u0E17\u0E35\u0E48\u0E40\u0E04\u0E22\u0E40\u0E08\u0E2D\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E35.</p><p>\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E41\u0E01\u0E49\u0E44\u0E02\u0E1B\u0E31\u0E0D\u0E2B\u0E32\u0E19\u0E35\u0E49\u0E08\u0E36\u0E07\u0E21\u0E35\u0E01\u0E32\u0E23\u0E19\u0E33\u0E40\u0E2A\u0E19\u0E2D Address Lookup Tables (LUT) \u0E02\u0E36\u0E49\u0E19\u0E21\u0E32</p><h2 id="address-lookup-tables-lut" tabindex="-1"><a class="header-anchor" href="#address-lookup-tables-lut" aria-hidden="true">#</a> Address Lookup Tables (LUT)</h2><p>\u0E41\u0E19\u0E27\u0E04\u0E34\u0E14\u0E02\u0E2D\u0E07 Address Lookup Tables \u0E04\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A account addresses \u0E43\u0E19\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A table-like (array) data structure \u0E1A\u0E19 on-chain. \u0E2B\u0E25\u0E31\u0E07\u0E08\u0E32\u0E01\u0E17\u0E35\u0E48 accounts \u0E16\u0E39\u0E01\u0E40\u0E01\u0E47\u0E1A\u0E43\u0E19\u0E15\u0E32\u0E23\u0E32\u0E07\u0E19\u0E35\u0E49\u0E41\u0E25\u0E49\u0E27 \u0E40\u0E23\u0E32\u0E08\u0E30\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07\u0E16\u0E36\u0E07\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E02\u0E2D\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07\u0E19\u0E31\u0E49\u0E19\u0E43\u0E19 transaction message \u0E44\u0E14\u0E49 \u0E42\u0E14\u0E22\u0E43\u0E0A\u0E49 1-byte u8 \u0E40\u0E1B\u0E47\u0E19 index \u0E0A\u0E35\u0E49\u0E44\u0E1B\u0E17\u0E35\u0E48\u0E41\u0E15\u0E48\u0E25\u0E30 account.</p><p><img src="'+_+'" alt="LUTs"></p><p>\u0E40\u0E1E\u0E23\u0E32\u0E30\u0E41\u0E1A\u0E1A\u0E19\u0E31\u0E49\u0E19\u0E40\u0E23\u0E32\u0E40\u0E25\u0E22\u0E44\u0E21\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E40\u0E01\u0E47\u0E1A addresses \u0E43\u0E19 transaction message \u0E2D\u0E35\u0E01\u0E15\u0E48\u0E2D\u0E44\u0E1B \u0E40\u0E23\u0E32\u0E41\u0E04\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A u8 \u0E44\u0E27\u0E49\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07 index \u0E17\u0E33\u0E43\u0E2B\u0E49\u0E40\u0E23\u0E32\u0E08\u0E30\u0E40\u0E01\u0E47\u0E1A\u0E44\u0E14\u0E49\u0E21\u0E32\u0E01\u0E16\u0E36\u0E07 2^8=<strong>256</strong> accounts</p><p>LUTs \u0E15\u0E49\u0E2D\u0E07\u0E17\u0E33 rent-exempt \u0E40\u0E27\u0E25\u0E32\u0E40\u0E23\u0E34\u0E48\u0E21\u0E43\u0E0A\u0E49 (initialised) \u0E2B\u0E23\u0E37\u0E2D\u0E17\u0E38\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07\u0E17\u0E35\u0E48 address \u0E43\u0E2B\u0E21\u0E48\u0E16\u0E39\u0E01\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E02\u0E49\u0E32\u0E44\u0E1B\u0E43\u0E19\u0E15\u0E32\u0E23\u0E32\u0E07. Addresses \u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E14\u0E49\u0E42\u0E14\u0E22\u0E43\u0E0A\u0E49 on-chain buffer \u0E2B\u0E23\u0E37\u0E2D\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E42\u0E14\u0E22\u0E15\u0E23\u0E07\u0E43\u0E19\u0E15\u0E32\u0E23\u0E32\u0E07\u0E1C\u0E48\u0E32\u0E19\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07 <code>Extension</code> \u0E43\u0E19 instruction. \u0E19\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E19\u0E35\u0E49 LUTs \u0E22\u0E31\u0E07\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E01\u0E47\u0E1A metadata \u0E17\u0E35\u0E48\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E02\u0E49\u0E2D\u0E07\u0E15\u0E32\u0E21\u0E14\u0E49\u0E27\u0E22 compact-array \u0E02\u0E2D\u0E07 accounts \u0E44\u0E14\u0E49 \u0E14\u0E49\u0E32\u0E19\u0E25\u0E48\u0E32\u0E07\u0E19\u0E35\u0E49\u0E04\u0E37\u0E2D\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07 Address Lookup Table \u0E17\u0E31\u0E48\u0E27\u0E44\u0E1B</p><p><img src="'+k+`" alt="LUT Format"></p><p>\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E23\u0E30\u0E27\u0E31\u0E07\u0E02\u0E2D\u0E07 LUTs \u0E04\u0E37\u0E2D\u0E40\u0E19\u0E37\u0E48\u0E2D\u0E07\u0E08\u0E32\u0E01 address lookups \u0E08\u0E30\u0E21\u0E35 overhead \u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E21\u0E27\u0E25\u0E1C\u0E25 transaction, \u0E0B\u0E36\u0E48\u0E07\u0E08\u0E30\u0E17\u0E33\u0E43\u0E2B\u0E49\u0E04\u0E48\u0E32 fee \u0E2A\u0E39\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E32\u0E21\u0E44\u0E1B\u0E14\u0E49\u0E27\u0E22</p><h2 id="versioned-transactions-transactionv0" tabindex="-1"><a class="header-anchor" href="#versioned-transactions-transactionv0" aria-hidden="true">#</a> Versioned Transactions: TransactionV0</h2><p>\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07 legacy transaction \u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35\u0E01\u0E32\u0E23\u0E1B\u0E23\u0E31\u0E1A\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E43\u0E2B\u0E49\u0E43\u0E0A\u0E49 address table lookups \u0E44\u0E14\u0E49. \u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E40\u0E2B\u0E25\u0E48\u0E32\u0E19\u0E35\u0E49\u0E44\u0E21\u0E48\u0E04\u0E27\u0E23\u0E44\u0E1B\u0E17\u0E33\u0E43\u0E2B\u0E49\u0E01\u0E32\u0E23\u0E1B\u0E23\u0E30\u0E21\u0E27\u0E25\u0E1C\u0E25 transaction \u0E1A\u0E19 Solana \u0E1E\u0E31\u0E07, \u0E41\u0E25\u0E30\u0E01\u0E47\u0E44\u0E21\u0E48\u0E04\u0E27\u0E23\u0E44\u0E1B\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E01\u0E32\u0E23\u0E40\u0E23\u0E35\u0E22\u0E01 program \u0E41\u0E1A\u0E1A\u0E40\u0E14\u0E34\u0E21\u0E14\u0E49\u0E27\u0E22</p><p>\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E43\u0E2B\u0E49\u0E21\u0E31\u0E48\u0E19\u0E43\u0E08\u0E27\u0E48\u0E32\u0E08\u0E30\u0E44\u0E21\u0E48\u0E21\u0E35\u0E2D\u0E30\u0E44\u0E23\u0E1E\u0E31\u0E07 \u0E40\u0E23\u0E32\u0E08\u0E36\u0E07\u0E08\u0E33\u0E40\u0E1B\u0E47\u0E19\u0E15\u0E49\u0E2D\u0E07\u0E23\u0E30\u0E1A\u0E38\u0E0A\u0E19\u0E34\u0E14\u0E02\u0E2D\u0E07 transaction \u0E44\u0E27\u0E49\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E0A\u0E31\u0E14\u0E40\u0E08\u0E19\u0E27\u0E48\u0E32\u0E21\u0E31\u0E19\u0E40\u0E1B\u0E47\u0E19 <code>legacy</code> \u0E2B\u0E23\u0E37\u0E2D <code>versioned</code>. \u0E41\u0E25\u0E49\u0E27\u0E40\u0E23\u0E32\u0E08\u0E30\u0E43\u0E2A\u0E48 version \u0E44\u0E1B\u0E15\u0E23\u0E07\u0E44\u0E2B\u0E19\u0E02\u0E2D\u0E07 transaction \u0E14\u0E35\u0E25\u0E48\u0E30?</p><p>\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E19\u0E35\u0E49 transactions \u0E08\u0E30\u0E40\u0E2B\u0E25\u0E37\u0E2D upper bit \u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E43\u0E0A\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E17\u0E35\u0E48 byte \u0E41\u0E23\u0E01\u0E02\u0E2D\u0E07 message headers: <code>num_required_signatures</code>. \u0E40\u0E23\u0E32\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E43\u0E0A\u0E49 bit \u0E19\u0E35\u0E49\u0E43\u0E19\u0E01\u0E32\u0E23\u0E1B\u0E23\u0E30\u0E01\u0E32\u0E28 version \u0E02\u0E2D\u0E07 transactions \u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32\u0E44\u0E14\u0E49.</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">VersionedMessage</span> <span class="token punctuation">{</span>
    <span class="token class-name">Legacy</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">V0</span><span class="token punctuation">(</span><span class="token namespace">v0<span class="token punctuation">::</span></span><span class="token class-name">Message</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u0E16\u0E49\u0E32 bit \u0E41\u0E23\u0E01\u0E43\u0E19 byte \u0E41\u0E23\u0E01\u0E16\u0E39\u0E01\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32 \u0E08\u0E30\u0E17\u0E33\u0E43\u0E2B\u0E49 bit \u0E15\u0E48\u0E2D\u0E44\u0E1B\u0E08\u0E30\u0E2B\u0E21\u0E32\u0E22\u0E16\u0E36\u0E07\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E25\u0E02 version \u0E0B\u0E36\u0E48\u0E07 Solana \u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 \u201CVersion 0\u201D \u0E0B\u0E36\u0E48\u0E07\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49 \u0E16\u0E49\u0E32\u0E08\u0E30\u0E40\u0E23\u0E34\u0E48\u0E21\u0E43\u0E0A\u0E49 LUTs</p><p>If the first bit is not set, the transaction will be considered a \u201CLegacy Transaction\u201D and the remainder of the first byte will be treated as the first byte of an encoded legacy message.</p><p>\u0E2B\u0E32\u0E01 bit \u0E41\u0E23\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32 transaction \u0E19\u0E31\u0E49\u0E19\u0E08\u0E30\u0E16\u0E37\u0E2D\u0E27\u0E48\u0E32\u0E40\u0E1B\u0E47\u0E19 &quot;Legacy Transaction&quot; \u0E41\u0E25\u0E30\u0E2A\u0E48\u0E27\u0E19\u0E17\u0E35\u0E48\u0E40\u0E2B\u0E25\u0E37\u0E2D\u0E02\u0E2D\u0E07 byte \u0E41\u0E23\u0E01\u0E08\u0E30\u0E16\u0E39\u0E01\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E40\u0E1B\u0E47\u0E19 byte \u0E41\u0E23\u0E01\u0E02\u0E2D\u0E07 message \u0E15\u0E32\u0E21\u0E40\u0E14\u0E34\u0E21</p><h2 id="messagev0" tabindex="-1"><a class="header-anchor" href="#messagev0" aria-hidden="true">#</a> MessageV0</h2><p>\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07 MessageV0 \u0E04\u0E48\u0E2D\u0E19\u0E02\u0E49\u0E32\u0E07\u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E40\u0E14\u0E34\u0E21 \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21\u0E04\u0E37\u0E2D...</p><ol><li><strong>Message Header</strong>: \u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E40\u0E14\u0E34\u0E21</li><li><strong>Compact array of account keys</strong>: \u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E40\u0E14\u0E34\u0E21 \u0E41\u0E15\u0E48\u0E40\u0E23\u0E32\u0E08\u0E30\u0E43\u0E0A\u0E49\u0E41\u0E15\u0E48\u0E25\u0E30 byte \u0E44\u0E1B\u0E17\u0E33 index \u0E41\u0E17\u0E19\u0E40\u0E23\u0E35\u0E22\u0E01\u0E27\u0E48\u0E32 <em>index array A</em> (\u0E08\u0E30\u0E21\u0E35\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22\u0E2D\u0E35\u0E01\u0E17\u0E35)</li><li><strong>Recent blockhash</strong>: \u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E40\u0E14\u0E34\u0E21</li><li><strong>Compact array of instructions</strong>: \u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19</li><li><strong>Compact array of address table lookups</strong>: \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E21\u0E32\u0E43\u0E19 v0</li></ol><p><img src="`+y+'" alt="Message v0"></p><p>\u0E40\u0E23\u0E32\u0E08\u0E30\u0E21\u0E32\u0E14\u0E39\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07 compact array \u0E02\u0E2D\u0E07 address table lookups \u0E01\u0E48\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E08\u0E30\u0E44\u0E1B\u0E14\u0E39\u0E27\u0E48\u0E32\u0E21\u0E35\u0E2D\u0E30\u0E44\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E44\u0E1B\u0E43\u0E19 instruction array \u0E1A\u0E49\u0E32\u0E07</p><h3 id="compact-array-\u0E02\u0E2D\u0E07-address-table-lookups" tabindex="-1"><a class="header-anchor" href="#compact-array-\u0E02\u0E2D\u0E07-address-table-lookups" aria-hidden="true">#</a> Compact array \u0E02\u0E2D\u0E07 address table lookups</h3><p>\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E19\u0E35\u0E49\u0E19\u0E33\u0E40\u0E2A\u0E19\u0E2D Address Lookup Tables (LUT) \u0E43\u0E19\u0E01\u0E32\u0E23\u0E17\u0E33 Versioned Transactions \u0E0B\u0E36\u0E48\u0E07\u0E17\u0E33\u0E43\u0E2B\u0E49\u0E40\u0E1B\u0E47\u0E19\u0E44\u0E1B\u0E44\u0E14\u0E49\u0E17\u0E35\u0E48\u0E08\u0E30\u0E42\u0E2B\u0E25\u0E14 accounts \u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E48\u0E32\u0E19 \u0E41\u0E25\u0E30\u0E40\u0E02\u0E35\u0E22\u0E19\u0E44\u0E14\u0E49\u0E21\u0E32\u0E01\u0E02\u0E36\u0E49\u0E19\u0E43\u0E19\u0E18\u0E38\u0E23\u0E01\u0E23\u0E23\u0E21\u0E40\u0E14\u0E35\u0E22\u0E27</p><p>\u0E2A\u0E48\u0E27\u0E19 compact array \u0E08\u0E30\u0E40\u0E23\u0E34\u0E48\u0E21\u0E14\u0E49\u0E27\u0E22 compact-u16 encoding \u0E02\u0E2D\u0E07\u0E08\u0E33\u0E19\u0E27\u0E19\u0E02\u0E2D\u0E07 address table lookups, \u0E15\u0E32\u0E21\u0E14\u0E49\u0E27\u0E22 array \u0E02\u0E2D\u0E07 address table lookups. \u0E41\u0E15\u0E48\u0E25\u0E30 lookup \u0E08\u0E30\u0E21\u0E35\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E15\u0E32\u0E21\u0E19\u0E35\u0E49:</p><ol><li><strong>Account key</strong>: account key \u0E02\u0E2D\u0E07 address lookup table</li><li><strong>Writable indexes</strong>: compact array \u0E02\u0E2D\u0E07 indexes \u0E40\u0E2D\u0E32\u0E44\u0E27\u0E49\u0E42\u0E2B\u0E25\u0E14 account addresses \u0E17\u0E35\u0E48\u0E40\u0E02\u0E35\u0E22\u0E19\u0E44\u0E14\u0E49\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27. \u0E40\u0E23\u0E32\u0E08\u0E30\u0E40\u0E23\u0E35\u0E22\u0E01\u0E21\u0E31\u0E19\u0E27\u0E48\u0E32 <em>index array B</em>.</li><li><strong>Readonly indexes</strong>: compact array \u0E02\u0E2D\u0E07 indexes \u0E40\u0E2D\u0E32\u0E44\u0E27\u0E49\u0E42\u0E2B\u0E25\u0E14 account addresses \u0E17\u0E35\u0E48\u0E2D\u0E48\u0E32\u0E19\u0E44\u0E14\u0E49\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27. \u0E40\u0E23\u0E32\u0E08\u0E30\u0E40\u0E23\u0E35\u0E22\u0E01\u0E21\u0E31\u0E19\u0E27\u0E48\u0E32 <em>index array C</em>.</li></ol><p><img src="'+f+'" alt="Compact array of LUTs"></p><p>\u0E17\u0E35\u0E19\u0E35\u0E49\u0E40\u0E23\u0E32\u0E25\u0E2D\u0E07\u0E21\u0E32\u0E14\u0E39\u0E01\u0E31\u0E19\u0E27\u0E48\u0E32\u0E21\u0E35\u0E2D\u0E30\u0E44\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E43\u0E19 instructions compact array \u0E01\u0E31\u0E19\u0E1A\u0E49\u0E32\u0E07</p><h3 id="compact-array-\u0E02\u0E2D\u0E07-instructions-1" tabindex="-1"><a class="header-anchor" href="#compact-array-\u0E02\u0E2D\u0E07-instructions-1" aria-hidden="true">#</a> Compact array \u0E02\u0E2D\u0E07 instructions</h3><p>\u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E01\u0E31\u0E1A\u0E17\u0E35\u0E48\u0E44\u0E14\u0E49\u0E1E\u0E39\u0E14\u0E44\u0E27\u0E49\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E19\u0E35\u0E49 \u0E04\u0E37\u0E2D compact array \u0E02\u0E2D\u0E07 legacy instruction \u0E17\u0E35\u0E48\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A legacy instruction \u0E41\u0E15\u0E48\u0E25\u0E30\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E36\u0E48\u0E07\u0E43\u0E19\u0E25\u0E31\u0E01\u0E29\u0E13\u0E30\u0E40\u0E1A\u0E37\u0E49\u0E2D\u0E07\u0E15\u0E49\u0E19\u0E08\u0E30\u0E40\u0E01\u0E47\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E15\u0E48\u0E2D\u0E44\u0E1B\u0E19\u0E35\u0E49:</p><ol><li>index \u0E02\u0E2D\u0E07 Program ID</li><li>Compact array \u0E02\u0E2D\u0E07 account address indexes</li><li>Compact array \u0E02\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 opaque 8-bit</li></ol><p>\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E43\u0E19 instruction \u0E43\u0E2B\u0E21\u0E48\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07 instruction \u0E41\u0E15\u0E48\u0E08\u0E30\u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19 array \u0E17\u0E35\u0E48\u0E40\u0E23\u0E32\u0E43\u0E0A\u0E49\u0E40\u0E01\u0E47\u0E1A index \u0E02\u0E2D\u0E07 1 \u0E01\u0E31\u0E1A 2. \u0E0B\u0E36\u0E48\u0E07\u0E43\u0E19 legacy transactions \u0E08\u0E30\u0E43\u0E0A\u0E49\u0E1A\u0E32\u0E07\u0E2A\u0E48\u0E27\u0E19\u0E02\u0E2D\u0E07 index array A \u0E41\u0E15\u0E48\u0E43\u0E19 versioned transactions \u0E40\u0E23\u0E32\u0E08\u0E30\u0E43\u0E0A\u0E49\u0E1A\u0E32\u0E07\u0E2A\u0E48\u0E27\u0E19\u0E17\u0E35\u0E48\u0E44\u0E14\u0E49\u0E08\u0E32\u0E01\u0E01\u0E32\u0E23\u0E23\u0E27\u0E21 array \u0E15\u0E48\u0E2D\u0E44\u0E1B\u0E19\u0E35\u0E49\u0E41\u0E17\u0E19:</p><ol><li><strong>index array A</strong>: Compact array \u0E02\u0E2D\u0E07 accounts \u0E17\u0E35\u0E48\u0E40\u0E01\u0E47\u0E1A\u0E44\u0E27\u0E49\u0E43\u0E19 message</li><li><strong>index array B</strong>: Writable indexes \u0E43\u0E19 address table lookup</li><li><strong>index array C</strong>: Readonly indexes \u0E43\u0E19 address table lookup</li></ol><p><img src="'+v+`" alt="New Compact array of Instructions"></p><h2 id="rpc-changes" tabindex="-1"><a class="header-anchor" href="#rpc-changes" aria-hidden="true">#</a> RPC Changes</h2><p>Transaction \u0E17\u0E35\u0E48\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A\u0E21\u0E32 (responses)\u0E08\u0E30\u0E15\u0E49\u0E2D\u0E07\u0E23\u0E30\u0E1A\u0E38 version field: <code>maxSupportedTransactionVersion</code> \u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E1A\u0E2D\u0E01 clients \u0E27\u0E48\u0E32\u0E08\u0E30\u0E41\u0E01\u0E30(deserialisation) transaction \u0E22\u0E31\u0E07\u0E44\u0E07.</p><p>methods \u0E15\u0E48\u0E2D\u0E44\u0E1B\u0E19\u0E35\u0E49\u0E08\u0E33\u0E40\u0E1B\u0E47\u0E19\u0E15\u0E49\u0E2D\u0E07 update \u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E2B\u0E25\u0E35\u0E01\u0E40\u0E25\u0E35\u0E48\u0E22\u0E07\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14:</p><ul><li><code>getTransaction</code></li><li><code>getBlock</code></li></ul><p>\u0E41\u0E25\u0E30\u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1E\u0E34\u0E48\u0E21 parameter \u0E19\u0E35\u0E49\u0E40\u0E02\u0E49\u0E32\u0E44\u0E1B\u0E15\u0E2D\u0E19\u0E40\u0E23\u0E35\u0E22\u0E01\u0E02\u0E2D\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 (requests):</p><p><code>maxSupportedTransactionVersion: 0</code></p><p>\u0E16\u0E49\u0E32 <code>maxSupportedTransactionVersion</code> \u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E43\u0E2A\u0E48\u0E21\u0E32\u0E43\u0E19 request, transaction version \u0E08\u0E30\u0E16\u0E37\u0E2D\u0E27\u0E48\u0E32\u0E40\u0E1B\u0E47\u0E19\u0E40\u0E1B\u0E47\u0E19 <code>legacy</code>. \u0E41\u0E25\u0E30\u0E16\u0E49\u0E32 block \u0E44\u0E2B\u0E19\u0E21\u0E35 versioned transaction \u0E08\u0E30\u0E17\u0E33\u0E43\u0E2B\u0E49\u0E40\u0E01\u0E34\u0E14 error \u0E44\u0E14\u0E49.</p><p>\u0E40\u0E23\u0E32\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E43\u0E2A\u0E48\u0E04\u0E48\u0E32\u0E19\u0E35\u0E49\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E1B\u0E47\u0E19 JSON formatted requests \u0E44\u0E1B\u0E2B\u0E32 RPC endpoint \u0E44\u0E14\u0E49\u0E15\u0E32\u0E21\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E02\u0E49\u0E32\u0E07\u0E25\u0E48\u0E32\u0E07:</p><div class="language-plaintext ext-plaintext line-numbers-mode"><pre class="language-plaintext"><code>curl http://localhost:8899 -X POST -H &quot;Content-Type: application/json&quot; -d \\
&#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;:1, &quot;method&quot;: &quot;getBlock&quot;, &quot;params&quot;: [430, {
  &quot;encoding&quot;:&quot;json&quot;,
  &quot;maxSupportedTransactionVersion&quot;:0,
  &quot;transactionDetails&quot;:&quot;full&quot;,
  &quot;rewards&quot;:false
}]}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,66),J=s("\u0E2B\u0E23\u0E37\u0E2D\u0E43\u0E0A\u0E49\u0E1C\u0E48\u0E32\u0E19 library "),O={href:"https://solana-labs.github.io/solana-web3.js/",target:"_blank",rel:"noopener noreferrer"},Q=a("code",null,"@solana/web3.js",-1),X=s(" \u0E01\u0E47\u0E44\u0E14\u0E49\u0E40\u0E2B\u0E21\u0E37\u0E2D\u0E19\u0E01\u0E31\u0E19."),z=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// connect to the \`devnet\` cluster and get the current \`slot\`</span>
<span class="token keyword">const</span> connection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">web3<span class="token punctuation">.</span>Connection</span><span class="token punctuation">(</span>web3<span class="token punctuation">.</span><span class="token function">clusterApiUrl</span><span class="token punctuation">(</span><span class="token string">&quot;devnet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> slot <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">getSlot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// get the latest block (allowing for v0 transactions)</span>
<span class="token keyword">const</span> block <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">getBlock</span><span class="token punctuation">(</span>slot<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">maxSupportedTransactionVersion</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// get a specific transaction (allowing for v0 transactions)</span>
<span class="token keyword">const</span> getTx <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>
  <span class="token string">&quot;3jpoANiFeVGisWRY5UP648xRXs3iQasCHABPWRWnoEjeA93nc79WrnGgpgazjq4K9m8g2NJoyKoWBV1Kx5VmtwHQ&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">maxSupportedTransactionVersion</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E2D\u0E37\u0E48\u0E19\u0E46" tabindex="-1"><a class="header-anchor" href="#\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E2D\u0E37\u0E48\u0E19\u0E46" aria-hidden="true">#</a> \u0E41\u0E2B\u0E25\u0E48\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E2D\u0E37\u0E48\u0E19\u0E46</h2>`,2),Y={href:"https://beta.docs.solana.com/developing/versioned-transactions#how-create-a-versioned-transaction",target:"_blank",rel:"noopener noreferrer"},Z=s("How to build a Versioned Transaction"),$={href:"https://beta.docs.solana.com/developing/lookup-tables#how-to-create-an-address-lookup-table",target:"_blank",rel:"noopener noreferrer"},aa=s("How to build a Versioned Transaction with Address Lookup using LUTs"),sa={href:"https://beta.docs.solana.com/proposals/transactions-v2#limitations",target:"_blank",rel:"noopener noreferrer"},na=s("Limitations of Versioned Transactions"),ea={href:"https://beta.docs.solana.com/proposals/transactions-v2#security-concerns",target:"_blank",rel:"noopener noreferrer"},ta=s("Security concerns of Versioned Transactions"),oa={href:"https://beta.docs.solana.com/proposals/transactions-v2#other-proposals",target:"_blank",rel:"noopener noreferrer"},ra=s("Alternate proposed solutions to Versioned Transactions"),ca=a("h2",{id:"\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07","aria-hidden":"true"},"#"),s(" \u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07")],-1),ia={href:"https://beta.docs.solana.com/proposals/transactions-v2",target:"_blank",rel:"noopener noreferrer"},pa=s("Transactions-V2 Proposal"),la={href:"https://beta.docs.solana.com/developing/versioned-transactions",target:"_blank",rel:"noopener noreferrer"},da=s("Developing with Versioned Transactions");function ua(ma,ha){const n=r("ExternalLinkIcon");return c(),i(p,null,[T,a("p",null,[q,a("a",w,[L,e(n)]),C,V,A]),S,a("ol",null,[a("li",null,[U,a("a",M,[j,e(n)]),I]),B]),P,a("div",H,[N,R,a("ol",null,[a("li",null,[F,a("a",W,[D,e(n)])]),E]),K]),G,a("p",null,[J,a("a",O,[Q,e(n)]),X]),z,a("ul",null,[a("li",null,[a("a",Y,[Z,e(n)])]),a("li",null,[a("a",$,[aa,e(n)])]),a("li",null,[a("a",sa,[na,e(n)])]),a("li",null,[a("a",ea,[ta,e(n)])]),a("li",null,[a("a",oa,[ra,e(n)])])]),ca,a("ul",null,[a("li",null,[a("a",ia,[pa,e(n)])]),a("li",null,[a("a",la,[da,e(n)])])])],64)}var ba=o(x,[["render",ua]]);export{ba as default};
