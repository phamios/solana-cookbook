import{_ as r,r as l,o as i,c as m,a as n,b as a,w as t,F as b,d as s,e as c}from"./app.07ce7a66.js";var k="/assets/account-size.398f17bf.png",d="/assets/memcmp.c5e1f050.png";const f={},g=n("h1",{id:"obtenir-les-comptes-d-un-programme",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#obtenir-les-comptes-d-un-programme","aria-hidden":"true"},"#"),s(" Obtenir les comptes d'un programme")],-1),_=n("p",null,[s("Il existe une m\xE9thode RPC qui renvoie tous les comptes appartenant \xE0 un programme. Actuellement, la pagination n'est pas prise en charge. Les requ\xEAtes \xE0 "),n("code",null,"getProgramAccounts"),s(" devraient inclure les param\xE8tres "),n("code",null,"dataSlice"),s(" et/ou "),n("code",null,"filters"),s(" afin d'am\xE9liorer le temps de r\xE9ponse et retourner uniquement les r\xE9sultats voulus.")],-1),h=n("h2",{id:"faits",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#faits","aria-hidden":"true"},"#"),s(" Faits")],-1),y={class:"custom-container tip"},A=n("p",{class:"custom-container-title"},"Param\xE8tres",-1),v=n("li",null,[n("code",null,"programId"),s(": "),n("code",null,"string"),s(" - Cl\xE9 publique du programme \xE0 interroger, fournie sous forme de cha\xEEne de caract\xE8res cod\xE9e en base58")],-1),w=s("(optionnel) "),C=n("code",null,"configOrCommitment",-1),P=s(": "),S=n("code",null,"object",-1),T=s(" - Param\xE8tres de configuration contenant les champs facultatifs suivants : "),D=s("(optionnel) "),E=n("code",null,"commitment",-1),N=s(": "),x=n("code",null,"string",-1),L=s(" - "),q={href:"https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment",target:"_blank",rel:"noopener noreferrer"},R=s("Engagement de l'\xC9tat (State commitment)"),M=s("(optionnel) "),K=n("code",null,"encoding",-1),G=s(": "),B=n("code",null,"string",-1),z=s(" - L'encodage des donn\xE9es du compte, peut \xEAtre: "),j=n("code",null,"base58",-1),F=s(", "),H=n("code",null,"base64",-1),Z=s(", ou "),Q=n("code",null,"jsonParsed",-1),U=s(". Remarque : les utilisateurs de web3js doivent plut\xF4t utiliser "),W={href:"https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts",target:"_blank",rel:"noopener noreferrer"},J=s("getParsedProgramAccounts"),V=c("<li>(optionnel) <code>dataSlice</code>: <code>object</code> - Param\xE8tres permettant de limiter les donn\xE9es \xE0 renvoyer : <ul><li><code>offset</code>: <code>number</code> - Nombre de bytes dans les donn\xE9es du compte \xE0 partir desquels il faut commencer \xE0 retourner</li><li><code>length</code>: <code>number</code> - Nombre de bytes de donn\xE9es du compte \xE0 retourner</li></ul></li><li>(optionnel) <code>filters</code>: <code>array</code> - Param\xE8tres pour filtrer les r\xE9sultats : <ul><li><code>memcmp</code>: <code>object</code> - Correspondance d&#39;une s\xE9rie de bytes avec les donn\xE9es du compte : <ul><li><code>offset</code>: <code>number</code> - Nombre de bytes dans les donn\xE9es du compte \xE0 partir desquels il faut commencer \xE0 comparer</li><li><code>bytes</code>: <code>string</code> - Donn\xE9es \xE0 comparer, sous la forme d&#39;une cha\xEEne de caract\xE8res cod\xE9e en base58 limit\xE9e \xE0 129 bytes</li></ul></li><li><code>dataSize</code>: <code>number</code> - Compare la longueur des donn\xE9es du compte avec la taille des donn\xE9es fournies</li></ul></li>",2),Y=s("(optionnel) "),O=n("code",null,"withContext",-1),X=s(": "),I=n("code",null,"boolean",-1),$=s(" - Enveloppe le r\xE9sultat dans un "),nn={href:"https://docs.solana.com/developing/clients/jsonrpc-api#rpcresponse-structure",target:"_blank",rel:"noopener noreferrer"},sn=s("objet JSON RpcResponse"),an=c('<h5 id="reponse" tabindex="-1"><a class="header-anchor" href="#reponse" aria-hidden="true">#</a> R\xE9ponse</h5><p>Par d\xE9faut, <code>getProgramAccounts</code> retournera un tableau d&#39;objets JSON avec la structure suivante :</p><ul><li><code>pubkey</code>: <code>string</code> - La cl\xE9 publique du compte sous la forme d&#39;une cha\xEEne de caract\xE8res encod\xE9e en base58</li><li><code>account</code>: <code>object</code> - un objet JSON, avec les sous-champs suivants : <ul><li><code>lamports</code>: <code>number</code>, nombre de lamports allou\xE9s au compte</li><li><code>owner</code>: <code>string</code>, La cl\xE9 publique du programme auquel le compte a \xE9t\xE9 attribu\xE9, encod\xE9e en base58</li><li><code>data</code>: <code>string</code> | <code>object</code> - les donn\xE9es associ\xE9es au compte, soit sous forme de donn\xE9es binaires, soit au format JSON, conform\xE9ment au param\xE8tre d&#39;encodage fourni</li><li><code>executable</code>: <code>boolean</code>, Indique si le compte contient un programme</li><li><code>rentEpoch</code>: <code>number</code>, L&#39;\xE9poque \xE0 laquelle ce compte devra payer sa prochaine rente</li></ul></li></ul>',3),en=n("h2",{id:"examen-plus-approfondi",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#examen-plus-approfondi","aria-hidden":"true"},"#"),s(" Examen plus approfondi")],-1),tn=n("p",null,[n("code",null,"getProgramAccounts"),s(" est une m\xE9thode RPC polyvalente qui renvoie tous les comptes appartenant \xE0 un programme. Nous pouvons utiliser "),n("code",null,"getProgramAccounts"),s(" pour un certain nombre de requ\xEAtes utiles, telles que la recherche de :")],-1),on=n("li",null,"Tous les comptes de jetons pour un portefeuille en particulier",-1),cn=s("Tous les comptes de jetons pour un mint en particulier (par exemple, tous les propri\xE9taires (holders) de "),ln={href:"https://www.projectserum.com/",target:"_blank",rel:"noopener noreferrer"},pn=s("SRM"),un=s(")"),rn=s("Tous les comptes pour un programme en particulier (par exemple, tous les utilisateurs de "),mn={href:"https://mango.markets/",target:"_blank",rel:"noopener noreferrer"},bn=s("Mango"),kn=s(")"),dn=c("<p>Malgr\xE9 son utilit\xE9, <code>getProgramAccounts</code> est souvent mal compris en raison de ses limites actuelles. La plupart des requ\xEAtes support\xE9es par <code>getProgramAccounts</code> n\xE9cessitent des n\u0153uds RPC pour analyser de grands ensembles de donn\xE9es. Ces analyses sont \xE0 la fois gourmandes en m\xE9moire et en ressources. Par cons\xE9quent, les appels trop fr\xE9quents ou de trop grande envergure peuvent entra\xEEner des interruptions de connexion. De plus, au moment o\xF9 nous \xE9crivons ces lignes, le point de terminaison <code>getProgramAccounts</code> ne prend pas en charge la pagination. Si les r\xE9sultats d&#39;une requ\xEAte sont trop volumineux, la r\xE9ponse sera tronqu\xE9e.</p><p>Pour contourner ces contraintes actuelles, <code>getProgramAccounts</code> offre un certain nombre de param\xE8tres utiles : \xE0 savoir, <code>dataSlice</code> et les options de <code>filters</code> <code>memcmp</code> et <code>dataSize</code>. En fournissant des combinaisons de ces param\xE8tres, nous pouvons r\xE9duire la port\xE9e de nos requ\xEAtes \xE0 des tailles g\xE9rables et pr\xE9visibles.</p>",2),fn=s("Un exemple courant de "),gn=n("code",null,"getProgramAccounts",-1),_n=s(" consiste \xE0 interagir avec le "),hn={href:"https://spl.solana.com/token",target:"_blank",rel:"noopener noreferrer"},yn=s("Programme de Jetons SPL"),An=s(". Demander tous les comptes d\xE9tenus par le programme de Jetons avec un "),vn=s("appel de base"),wn=s(" impliquerait une \xE9norme quantit\xE9 de donn\xE9es. Cependant, en fournissant des param\xE8tres, nous pouvons efficacement demander uniquement les donn\xE9es que nous avons l'intention d'utiliser."),Cn=c('<h3 id="filters" tabindex="-1"><a class="header-anchor" href="#filters" aria-hidden="true">#</a> <code>filters</code></h3><p>Le param\xE8tre le plus commun \xE0 utiliser avec <code>getProgramAccounts</code> est le tableau <code>filters</code>. Ce tableau accepte deux types de filtres, <code>dataSize</code> et <code>memcmp</code>. Avant d&#39;utiliser l&#39;un de ces filtres, nous devons nous familiariser avec la mani\xE8re dont les donn\xE9es que nous demandons sont organis\xE9es et s\xE9rialis\xE9es.</p><h4 id="datasize" tabindex="-1"><a class="header-anchor" href="#datasize" aria-hidden="true">#</a> <code>dataSize</code></h4>',3),Pn=s("Dans le cas du Programme de Jetons, nous pouvons constater que "),Sn={href:"https://github.com/solana-labs/solana-program-library/blob/08d9999f997a8bf38719679be9d572f119d0d960/token/program/src/state.rs#L86-L106",target:"_blank",rel:"noopener noreferrer"},Tn=s("les comptes de jetons ont une taille de 165 bytes"),Dn=s(". Plus pr\xE9cis\xE9ment, un compte de jeton comporte huit champs diff\xE9rents, chaque champ ayant un nombre pr\xE9d\xE9fini de bytes. Nous pouvons visualiser comment ces donn\xE9es sont organis\xE9es \xE0 l'aide de l'illustration ci-dessous."),En=c('<p><img src="'+k+'" alt="Taille des comptes"></p><p>Si nous voulions trouver tous les comptes de jetons appartenant \xE0 notre adresse de portefeuille, nous pourrions ajouter <code>{ dataSize: 165 }</code> \xE0 notre tableau <code>filters</code> pour limiter notre requ\xEAte aux seuls comptes qui font exactement 165 bytes de long. Toutefois, cela ne suffirait pas. Nous devrions \xE9galement ajouter un filtre qui recherche les comptes appartenant \xE0 notre adresse. Nous pouvons r\xE9aliser cela avec le filtre <code>memcmp</code>.</p><h4 id="memcmp" tabindex="-1"><a class="header-anchor" href="#memcmp" aria-hidden="true">#</a> <code>memcmp</code></h4><p>Le filtre <code>memcmp</code>, ou filtre &quot;comparaison de m\xE9moire&quot;, nous permet de comparer des donn\xE9es \xE0 n&#39;importe quel champ stock\xE9 sur notre compte. Plus pr\xE9cis\xE9ment, nous pouvons rechercher uniquement les comptes qui poss\xE8dent un certain ensemble de bytes \xE0 une position pr\xE9cise. <code>memcmp</code> n\xE9cessite deux arguments :</p><ul><li><code>offset</code>: La position \xE0 partir de laquelle il faut commencer \xE0 comparer les donn\xE9es. Cette position est mesur\xE9e en bytes et est exprim\xE9e sous la forme d&#39;un nombre entier.</li><li><code>bytes</code>: Les donn\xE9es qui doivent correspondre aux donn\xE9es du compte. Elles sont repr\xE9sent\xE9es sous la forme d&#39;une cha\xEEne de caract\xE8res cod\xE9es en base 58 qui doit \xEAtre limit\xE9e \xE0 moins de 129 bytes.</li></ul><p>Il est important de noter que <code>memcmp</code> ne retournera que les r\xE9sultats qui correspondent exactement aux <code>bytes</code>. Actuellement, il ne supporte pas les comparaisons pour les valeurs inf\xE9rieures ou sup\xE9rieures aux <code>bytes</code> que nous fournissons.</p><p>Pour rester dans notre exemple du Programme de Jetons, nous pouvons modifier notre requ\xEAte pour ne renvoyer que les comptes de jetons qui appartiennent \xE0 notre adresse de portefeuille. En examinant un compte de jetons, on constate que les deux premiers champs stock\xE9s sur un compte de jetons sont tous deux des cl\xE9s publiques, et que chaque cl\xE9 publique a une longueur de 32 octets. \xC9tant donn\xE9 que <code>owner</code> est le deuxi\xE8me champ, nous devrions commencer notre <code>memcmp</code> \xE0 un <code>offset</code> de 32 bytes. A partir de l\xE0, nous allons rechercher les comptes dont le champ propri\xE9taire (owner) correspond \xE0 l&#39;adresse de notre portefeuille.</p><p><img src="'+d+'" alt="Taille des comptes"></p><p>Nous pouvons faire appel \xE0 cette requ\xEAte via l&#39;exemple suivant :</p>',9),Nn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/spl-token"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" clusterApiUrl"),n("span",{class:"token punctuation"},","),s(" Connection "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T"'),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"clusterApiUrl"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"confirmed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"const"),s(" accounts "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getParsedProgramAccounts"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},'// new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")'),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
      filters`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          dataSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          memcmp`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
            offset`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"32"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
            bytes`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// base58 encoded string"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Found "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("accounts"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," token account(s) for wallet "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": "),n("span",{class:"token template-punctuation string"},"`")]),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  accounts`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("account"),n("span",{class:"token punctuation"},","),s(" i"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"-- Token Account Address "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("i "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("account"),n("span",{class:"token punctuation"},"."),s("pubkey"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," --"),n("span",{class:"token template-punctuation string"},"`")]),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Mint: "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("account"),n("span",{class:"token punctuation"},"."),s("account"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"parsed"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"info"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"mint"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Amount: "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("account"),n("span",{class:"token punctuation"},"."),s("account"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"parsed"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"info"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"tokenAmount"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"uiAmount"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token comment"},`/*
    // Output

    Found 2 token account(s) for wallet FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T: 
    -- Token Account Address 0:  H12yCcKLHFJFfohkeKiN8v3zgaLnUMwRcnJTyB4igAsy --
    Mint: CKKDsBT6KiT4GDKs3e39Ue9tDkhuGUKM3cC2a7pmV9YK
    Amount: 1
    -- Token Account Address 1:  Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb --
    Mint: BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf
    Amount: 3
  */`),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br")])],-1),xn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token namespace"},[s("rpc_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},","),s(` 
  `),n("span",{class:"token namespace"},[s("rpc_filter"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncoding"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token namespace"},[s("rpc_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_sdk"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token namespace"},[s("commitment_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token namespace"},[s("program_pack"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Pack"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("spl_token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token namespace"},[s("state"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"Mint"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_account_decoder"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"str"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T"'),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" rpc_url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"http://api.devnet.solana.com"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new_with_commitment"),n("span",{class:"token punctuation"},"("),s("rpc_url"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"confirmed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" filters "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token macro property"},"vec!"),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token number"},"32"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base58"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"MY_WALLET_ADDRESS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"DataSize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" accounts "),n("span",{class:"token operator"},"="),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_program_accounts_with_config"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token operator"},"&"),n("span",{class:"token namespace"},[s("spl_token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token constant"},"ID"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
          filters`),n("span",{class:"token punctuation"},","),s(`
          account_config`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
              encoding`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base64"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              commitment`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"commitment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Found {:?} token account(s) for wallet {MY_WALLET_ADDRESS}: "'),n("span",{class:"token punctuation"},","),s(" accounts"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"len"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token punctuation"},","),s(" account"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"in"),s(" accounts"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"iter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"enumerate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"-- Token Account Address {:?}:  {:?} --"'),n("span",{class:"token punctuation"},","),s(" i"),n("span",{class:"token punctuation"},","),s(" account"),n("span",{class:"token number"},".0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

      `),n("span",{class:"token keyword"},"let"),s(" mint_token_account "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"unpack_from_slice"),n("span",{class:"token punctuation"},"("),s("account"),n("span",{class:"token number"},".1"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_slice"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Mint: {:?}"'),n("span",{class:"token punctuation"},","),s(" mint_token_account"),n("span",{class:"token punctuation"},"."),s("mint"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

      `),n("span",{class:"token keyword"},"let"),s(" mint_account_data "),n("span",{class:"token operator"},"="),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_account_data"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),s("mint_token_account"),n("span",{class:"token punctuation"},"."),s("mint"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" mint "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Mint"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"unpack_from_slice"),n("span",{class:"token punctuation"},"("),s("mint_account_data"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_slice"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Amount: {:?}"'),n("span",{class:"token punctuation"},","),s(" mint_token_account"),n("span",{class:"token punctuation"},"."),s("amount "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"f64"),s(),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"10usize"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"pow"),n("span",{class:"token punctuation"},"("),s("mint"),n("span",{class:"token punctuation"},"."),s("decimals "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"u32"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"f64"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/*
// Output

Found 2 token account(s) for wallet FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T: 
-- Token Account Address 0:  H12yCcKLHFJFfohkeKiN8v3zgaLnUMwRcnJTyB4igAsy --
Mint: CKKDsBT6KiT4GDKs3e39Ue9tDkhuGUKM3cC2a7pmV9YK
Amount: 1.0
-- Token Account Address 1:  Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb --
Mint: BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf
Amount: 3.0
*/`),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br")])],-1),Ln=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"curl"),s(" http://api.mainnet-beta.solana.com -X POST -H "),n("span",{class:"token string"},'"Content-Type: application/json"'),s(" -d "),n("span",{class:"token string"},`'
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 32,
              "bytes": "FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T"
            }
          }
        ]
      }
    ]
  }
'`),s(`

`),n("span",{class:"token comment"},"# Output: "),s(`
`),n("span",{class:"token comment"},"# {"),s(`
`),n("span",{class:"token comment"},'#   "jsonrpc": "2.0",'),s(`
`),n("span",{class:"token comment"},'#   "result": ['),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": {'),s(`
`),n("span",{class:"token comment"},'#           "parsed": {'),s(`
`),n("span",{class:"token comment"},'#             "info": {'),s(`
`),n("span",{class:"token comment"},'#               "isNative": false,'),s(`
`),n("span",{class:"token comment"},'#               "mint": "BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf",'),s(`
`),n("span",{class:"token comment"},'#               "owner": "FriELggez2Dy3phZeHHAdpcoEXkKQVkv6tx3zDtCVP8T",'),s(`
`),n("span",{class:"token comment"},'#               "state": "initialized",'),s(`
`),n("span",{class:"token comment"},'#               "tokenAmount": {'),s(`
`),n("span",{class:"token comment"},'#                 "amount": "998999999000000000",'),s(`
`),n("span",{class:"token comment"},'#                 "decimals": 9,'),s(`
`),n("span",{class:"token comment"},'#                 "uiAmount": 998999999,'),s(`
`),n("span",{class:"token comment"},'#                 "uiAmountString": "998999999"'),s(`
`),n("span",{class:"token comment"},"#               }"),s(`
`),n("span",{class:"token comment"},"#             },"),s(`
`),n("span",{class:"token comment"},'#             "type": "account"'),s(`
`),n("span",{class:"token comment"},"#           },"),s(`
`),n("span",{class:"token comment"},'#           "program": "spl-token",'),s(`
`),n("span",{class:"token comment"},'#           "space": 165'),s(`
`),n("span",{class:"token comment"},"#         },"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 313'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb"'),s(`
`),n("span",{class:"token comment"},"#     }"),s(`
`),n("span",{class:"token comment"},"#   ],"),s(`
`),n("span",{class:"token comment"},'#   "id": 1'),s(`
`),n("span",{class:"token comment"},"# }"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br")])],-1),qn=c('<h3 id="dataslice" tabindex="-1"><a class="header-anchor" href="#dataslice" aria-hidden="true">#</a> <code>dataSlice</code></h3><p>En plus des deux param\xE8tres de filtre, le troisi\xE8me param\xE8tre le plus courant pour <code>getProgramAccounts</code> est <code>dataSlice</code>. Contrairement au param\xE8tre <code>filters</code>, <code>dataSlice</code> ne r\xE9duira pas le nombre de comptes retourn\xE9s par une requ\xEAte. Au lieu de cela, <code>dataSlice</code> limitera la quantit\xE9 de donn\xE9es pour chaque compte.</p><p>Tout comme <code>memcmp</code>, <code>dataSlice</code> accepte deux arguments :</p><ul><li><code>offset</code>: La position (en nombre de bytes) \xE0 partir de laquelle il faut commencer \xE0 renvoyer les donn\xE9es du compte</li><li><code>length</code>: Le nombre d&#39;octets qui doivent \xEAtre retourn\xE9s</li></ul><p><code>dataSlice</code> est particuli\xE8rement utile lorsque nous ex\xE9cutons des requ\xEAtes sur un grand ensemble de donn\xE9es mais que nous ne nous soucions pas vraiment des donn\xE9es du compte lui-m\xEAme. Par exemple, si nous voulons trouver le nombre de comptes de jetons (c&#39;est-\xE0-dire le nombre de d\xE9tenteurs de jetons) pour un jeton en particulier.</p>',5),Rn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/spl-token"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" clusterApiUrl"),n("span",{class:"token punctuation"},","),s(" Connection "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf"'),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"clusterApiUrl"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"confirmed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"const"),s(" accounts "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getProgramAccounts"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token constant"},"TOKEN_PROGRAM_ID"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},'// new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")'),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
      dataSlice`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        offset`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        length`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      filters`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          dataSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          memcmp`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
            offset`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
            bytes`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// base58 encoded string"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Found "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("accounts"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," token account(s) for mint "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("accounts"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token comment"},`/*
  // Output (notice the empty <Buffer > at acccount.data)
  
  Found 3 token account(s) for mint BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf
  [
    {
      account: {
        data: <Buffer >,
        executable: false,
        lamports: 2039280,
        owner: [PublicKey],
        rentEpoch: 228
      },
      pubkey: PublicKey {
        _bn: <BN: a8aca7a3132e74db2ca37bfcd66f4450f4631a5464b62fffbd83c48ef814d8d7>
      }
    },
    {
      account: {
        data: <Buffer >,
        executable: false,
        lamports: 2039280,
        owner: [PublicKey],
        rentEpoch: 228
      },
      pubkey: PublicKey {
        _bn: <BN: ce3b7b906c2ff6c6b62dc4798136ec017611078443918b2fad1cadff3c2e0448>
      }
    },
    {
      account: {
        data: <Buffer >,
        executable: false,
        lamports: 2039280,
        owner: [PublicKey],
        rentEpoch: 228
      },
      pubkey: PublicKey {
        _bn: <BN: d4560e42cb24472b0e1203ff4b0079d6452b19367b701643fa4ac33e0501cb1>
      }
    }
  ]
  */`),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br")])],-1),Mn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token namespace"},[s("rpc_client"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},","),s(` 
  `),n("span",{class:"token namespace"},[s("rpc_filter"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"MemcmpEncoding"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token namespace"},[s("rpc_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_sdk"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token namespace"},[s("commitment_config"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("solana_account_decoder"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"UiDataSliceConfig"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"str"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf"'),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" rpc_url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"http://api.devnet.solana.com"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"RpcClient"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new_with_commitment"),n("span",{class:"token punctuation"},"("),s("rpc_url"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"CommitmentConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"confirmed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" filters "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token macro property"},"vec!"),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Memcmp"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
        `),n("span",{class:"token class-name"},"MemcmpEncodedBytes"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base58"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"MY_TOKEN_MINT_ADDRESS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcFilterType"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"DataSize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"165"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" accounts "),n("span",{class:"token operator"},"="),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_program_accounts_with_config"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token operator"},"&"),n("span",{class:"token namespace"},[s("spl_token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token constant"},"ID"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
          filters`),n("span",{class:"token punctuation"},","),s(`
          account_config`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
              data_slice`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"UiDataSliceConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`
                  offset`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
                  length`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// number of bytes"),s(`
              `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              encoding`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"UiAccountEncoding"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Base64"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              commitment`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"commitment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcAccountInfoConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token punctuation"},".."),n("span",{class:"token class-name"},"RpcProgramAccountsConfig"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Found {:?} token account(s) for mint {MY_TOKEN_MINT_ADDRESS}: "'),n("span",{class:"token punctuation"},","),s(" accounts"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"len"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{:#?}"'),n("span",{class:"token punctuation"},","),s(" accounts"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/*
// Output (notice zero \`len\` in \`data\` of \`Account\`s)

Found 3 token account(s) for mint BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf: 
[
  (
      tofD3NzLfZ5pWG91JcnbfsAbfMcFF2SRRp3ChnjeTcL,
      Account {
          lamports: 2039280,
          data.len: 0,
          owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA,
          executable: false,
          rent_epoch: 319,
      },
  ),
  (
      CMSC2GeWDsTPjfnhzCZHEqGRjKseBhrWaC2zNcfQQuGS,
      Account {
          lamports: 2039280,
          data.len: 0,
          owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA,
          executable: false,
          rent_epoch: 318,
      },
  ),
  (
      Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb,
      Account {
          lamports: 2039280,
          data.len: 0,
          owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA,
          executable: false,
          rent_epoch: 318,
      },
  ),
]
*/`),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br")])],-1),Kn=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token comment"},'# Note: encoding only available for "base58", "base64" or "base64+zstd"'),s(`
`),n("span",{class:"token function"},"curl"),s(" http://api.mainnet-beta.solana.com -X POST -H "),n("span",{class:"token string"},'"Content-Type: application/json"'),s(" -d "),n("span",{class:"token string"},`'
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "base64",
        "dataSlice": {
          "offset": 0,
          "length": 0
        },
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 0,
              "bytes": "BUGuuhPsHpk8YZrL2GctsCtXGneL1gmT5zYb7eMHZDWf"
            }
          }
        ]
      }
    ]
  }
'`),s(`

`),n("span",{class:"token comment"},"# Output:"),s(`
`),n("span",{class:"token comment"},"# {"),s(`
`),n("span",{class:"token comment"},'#   "jsonrpc": "2.0",'),s(`
`),n("span",{class:"token comment"},'#   "result": ['),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 313'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "FqWyVSLQgyRWyG1FuUGtHdTQHrEaBzXh1y9K6uPVTRZ4"'),s(`
`),n("span",{class:"token comment"},"#     },"),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 314'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "CMSC2GeWDsTPjfnhzCZHEqGRjKseBhrWaC2zNcfQQuGS"'),s(`
`),n("span",{class:"token comment"},"#     },"),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 314'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "61NfACb21WvuEzxyiJoxBrivpiLQ79gLBxzFo85BiJ2U"'),s(`
`),n("span",{class:"token comment"},"#     },"),s(`
`),n("span",{class:"token comment"},"#     {"),s(`
`),n("span",{class:"token comment"},'#       "account": {'),s(`
`),n("span",{class:"token comment"},'#         "data": ['),s(`
`),n("span",{class:"token comment"},'#           "",'),s(`
`),n("span",{class:"token comment"},'#           "base64"'),s(`
`),n("span",{class:"token comment"},"#         ],"),s(`
`),n("span",{class:"token comment"},'#         "executable": false,'),s(`
`),n("span",{class:"token comment"},'#         "lamports": 2039280,'),s(`
`),n("span",{class:"token comment"},'#         "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",'),s(`
`),n("span",{class:"token comment"},'#         "rentEpoch": 313'),s(`
`),n("span",{class:"token comment"},"#       },"),s(`
`),n("span",{class:"token comment"},'#       "pubkey": "Et3bNDxe2wP1yE5ao6mMvUByQUHg8nZTndpJNvfKLdCb"'),s(`
`),n("span",{class:"token comment"},"#     }"),s(`
`),n("span",{class:"token comment"},"#   ],"),s(`
`),n("span",{class:"token comment"},'#   "id": 1'),s(`
`),n("span",{class:"token comment"},"# }"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br")])],-1),Gn=n("p",null,[s("En combinant ces trois param\xE8tres ("),n("code",null,"dataSlice"),s(", "),n("code",null,"dataSize"),s(", et "),n("code",null,"memcmp"),s("), nous pouvons limiter la port\xE9e de notre requ\xEAte et ne renvoyer efficacement que les donn\xE9es qui nous int\xE9ressent.")],-1),Bn=n("h2",{id:"autres-ressources",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#autres-ressources","aria-hidden":"true"},"#"),s(" Autres Ressources")],-1),zn={href:"https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts",target:"_blank",rel:"noopener noreferrer"},jn=s("Documentation de l'API RPC"),Fn={href:"https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getProgramAccounts",target:"_blank",rel:"noopener noreferrer"},Hn=s("Documentation de Web3js"),Zn={href:"https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts",target:"_blank",rel:"noopener noreferrer"},Qn=s("Documentation Web3js interpr\xE9t\xE9e en JSON");function Un(Wn,Jn){const e=l("ExternalLinkIcon"),u=l("RouterLink"),o=l("CodeGroupItem"),p=l("CodeGroup");return i(),m(b,null,[g,_,h,n("div",y,[A,n("ul",null,[v,n("li",null,[w,C,P,S,T,n("ul",null,[n("li",null,[D,E,N,x,L,n("a",q,[R,a(e)])]),n("li",null,[M,K,G,B,z,j,F,H,Z,Q,U,n("a",W,[J,a(e)])]),V,n("li",null,[Y,O,X,I,$,n("a",nn,[sn,a(e)])])])])]),an]),en,tn,n("ul",null,[on,n("li",null,[cn,n("a",ln,[pn,a(e)]),un]),n("li",null,[rn,n("a",mn,[bn,a(e)]),kn])]),dn,n("p",null,[fn,gn,_n,n("a",hn,[yn,a(e)]),An,a(u,{to:"/fr/references/accounts.html#comment-obtenir-les-comptes-du-programme"},{default:t(()=>[vn]),_:1}),wn]),Cn,n("p",null,[Pn,n("a",Sn,[Tn,a(e)]),Dn]),En,a(p,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[Nn]),_:1}),a(o,{title:"Rust Client",active:""},{default:t(()=>[xn]),_:1}),a(o,{title:"cURL",active:""},{default:t(()=>[Ln]),_:1})]),_:1}),qn,a(p,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[Rn]),_:1}),a(o,{title:"Rust Client",active:""},{default:t(()=>[Mn]),_:1}),a(o,{title:"cURL",active:""},{default:t(()=>[Kn]),_:1})]),_:1}),Gn,Bn,n("ul",null,[n("li",null,[n("a",zn,[jn,a(e)])]),n("li",null,[n("a",Fn,[Hn,a(e)])]),n("li",null,[n("a",Zn,[Qn,a(e)])])])],64)}var Yn=r(f,[["render",Un]]);export{Yn as default};
