<!DOCTYPE html>
<html lang="th-TH">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="title" content="Solana Cookbook | Versioned Transactions"><meta name="og:title" content="Solana Cookbook | Versioned Transactions"><meta name="description" content="Transaction format แบบใหม่บน Solana."><meta name="og:description" content="Transaction format แบบใหม่บน Solana."><meta name="og:image" content="https://solanacookbook.com/cookbook-sharing-card.png"><meta name="og:image:alt" content="Solana splash card"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@solanacookbook"><meta name="twitter:image" content="https://solanacookbook.com/cookbook-sharing-card.png"><meta name="robots" content="index,follow,noodp"><meta name="googlebot" content="index,follow"><link rel="icon" href="/solana_cookbook_lightmode.svg"><script data-domain="solanacookbook.com" src="https://plausible.io/js/plausible.js"></script><title>Versioned Transactions | คู่มือ Solana</title>
    <link rel="modulepreload" href="/assets/app.07ce7a66.js"><link rel="modulepreload" href="/assets/versioned-transactions.html.dc527468.js"><link rel="modulepreload" href="/assets/versioned-transactions.html.7131c1ef.js">
    <link rel="stylesheet" href="/assets/style.fecd2c41.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/th/" class=""><!----><span class="site-name can-hide">คู่มือ Solana</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/solana-developers/solana-cookbook" rel="noopener noreferrer" target="_blank" aria-label="ร่วมกันเขียน"><!--[--><!--]--> ร่วมกันเขียน <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guides/versioned-transactions.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh/guides/versioned-transactions.html" class="" aria-label="中文（简体）"><!--[--><!--]--> 中文（简体） <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Spanish"><!--[--><!--]--> Spanish <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pt/guides/versioned-transactions.html" class="" aria-label="Português"><!--[--><!--]--> Português <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vi/" class="" aria-label="Tiếng Việt"><!--[--><!--]--> Tiếng Việt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/th/guides/versioned-transactions.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ไทย"><!--[--><!--]--> ไทย <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fr/guides/versioned-transactions.html" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/id/" class="" aria-label="Bahasa Indonesia"><!--[--><!--]--> Bahasa Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/kr/" class="" aria-label="한국어"><!--[--><!--]--> 한국어 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tr/" class="" aria-label="Türkçe"><!--[--><!--]--> Türkçe <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/guides/versioned-transactions.html" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fil/guides/versioned-transactions.html" class="" aria-label="Filipino"><!--[--><!--]--> Filipino <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/solana-developers/solana-cookbook" rel="noopener noreferrer" target="_blank" aria-label="ร่วมกันเขียน"><!--[--><!--]--> ร่วมกันเขียน <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guides/versioned-transactions.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh/guides/versioned-transactions.html" class="" aria-label="中文（简体）"><!--[--><!--]--> 中文（简体） <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Spanish"><!--[--><!--]--> Spanish <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pt/guides/versioned-transactions.html" class="" aria-label="Português"><!--[--><!--]--> Português <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vi/" class="" aria-label="Tiếng Việt"><!--[--><!--]--> Tiếng Việt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/th/guides/versioned-transactions.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ไทย"><!--[--><!--]--> ไทย <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fr/guides/versioned-transactions.html" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/id/" class="" aria-label="Bahasa Indonesia"><!--[--><!--]--> Bahasa Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/kr/" class="" aria-label="한국어"><!--[--><!--]--> 한국어 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tr/" class="" aria-label="Türkçe"><!--[--><!--]--> Türkçe <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/guides/versioned-transactions.html" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/fil/guides/versioned-transactions.html" class="" aria-label="Filipino"><!--[--><!--]--> Filipino <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">เริ่มต้น <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/th/" class="sidebar-item" aria-label="Cooking กับ Solana"><!--[--><!--]--> Cooking กับ Solana <!--[--><!--]--></a><!----></li><li><a href="/th/getting-started/installation.html" class="sidebar-item" aria-label="การติดตั้ง"><!--[--><!--]--> การติดตั้ง <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">แนวความคิดหลัก <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/th/core-concepts/accounts.html" class="sidebar-item" aria-label="Accounts"><!--[--><!--]--> Accounts <!--[--><!--]--></a><!----></li><li><a href="/th/core-concepts/programs.html" class="sidebar-item" aria-label="Programs"><!--[--><!--]--> Programs <!--[--><!--]--></a><!----></li><li><a href="/th/core-concepts/transactions.html" class="sidebar-item" aria-label="Transactions"><!--[--><!--]--> Transactions <!--[--><!--]--></a><!----></li><li><a href="/th/core-concepts/pdas.html" class="sidebar-item" aria-label="Program Derived Addresses (PDAs)"><!--[--><!--]--> Program Derived Addresses (PDAs) <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">แนวทาง <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/th/guides/get-program-accounts.html" class="sidebar-item" aria-label="Get Program Accounts"><!--[--><!--]--> Get Program Accounts <!--[--><!--]--></a><!----></li><li><a href="/th/guides/serialization.html" class="sidebar-item" aria-label="Serializing Data"><!--[--><!--]--> Serializing Data <!--[--><!--]--></a><!----></li><li><a href="/th/guides/data-migration.html" class="sidebar-item" aria-label="Migrating Program Data Accounts"><!--[--><!--]--> Migrating Program Data Accounts <!--[--><!--]--></a><!----></li><li><a href="/th/guides/account-maps.html" class="sidebar-item" aria-label="Account Maps"><!--[--><!--]--> Account Maps <!--[--><!--]--></a><!----></li><li><a href="/th/guides/debugging-solana-programs.html" class="sidebar-item" aria-label="Debugging Solana Programs"><!--[--><!--]--> Debugging Solana Programs <!--[--><!--]--></a><!----></li><li><a href="/th/guides/feature-parity-testing.html" class="sidebar-item" aria-label="Feature Parity Testing"><!--[--><!--]--> Feature Parity Testing <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Versioned Transactions"><!--[--><!--]--> Versioned Transactions <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/th/guides/versioned-transactions.html#facts-เรื่องน่ารู้" class="router-link-active router-link-exact-active sidebar-item" aria-label="Facts (เรื่องน่ารู้)"><!--[--><!--]--> Facts (เรื่องน่ารู้) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#legacy-transaction" class="router-link-active router-link-exact-active sidebar-item" aria-label="Legacy Transaction"><!--[--><!--]--> Legacy Transaction <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#legacy-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="Legacy Message"><!--[--><!--]--> Legacy Message <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/th/guides/versioned-transactions.html#header" class="router-link-active router-link-exact-active sidebar-item" aria-label="Header"><!--[--><!--]--> Header <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#compact-array-ของ-account-addresses" class="router-link-active router-link-exact-active sidebar-item" aria-label="Compact-array ของ account addresses"><!--[--><!--]--> Compact-array ของ account addresses <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#compact-array-ของ-instructions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Compact array ของ instructions"><!--[--><!--]--> Compact array ของ instructions <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#ข้อจํากัดของ-legacy-transactions" class="router-link-active router-link-exact-active sidebar-item" aria-label="ข้อจำกัดของ Legacy Transactions"><!--[--><!--]--> ข้อจำกัดของ Legacy Transactions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#address-lookup-tables-lut" class="router-link-active router-link-exact-active sidebar-item" aria-label="Address Lookup Tables (LUT)"><!--[--><!--]--> Address Lookup Tables (LUT) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#versioned-transactions-transactionv0" class="router-link-active router-link-exact-active sidebar-item" aria-label="Versioned Transactions: TransactionV0"><!--[--><!--]--> Versioned Transactions: TransactionV0 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#messagev0" class="router-link-active router-link-exact-active sidebar-item" aria-label="MessageV0"><!--[--><!--]--> MessageV0 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/th/guides/versioned-transactions.html#compact-array-ของ-address-table-lookups" class="router-link-active router-link-exact-active sidebar-item" aria-label="Compact array ของ address table lookups"><!--[--><!--]--> Compact array ของ address table lookups <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#compact-array-ของ-instructions-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="Compact array ของ instructions"><!--[--><!--]--> Compact array ของ instructions <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#rpc-changes" class="router-link-active router-link-exact-active sidebar-item" aria-label="RPC Changes"><!--[--><!--]--> RPC Changes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#แหล่งข้อมูลอื่นๆ" class="router-link-active router-link-exact-active sidebar-item" aria-label="แหล่งข้อมูลอื่นๆ"><!--[--><!--]--> แหล่งข้อมูลอื่นๆ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/th/guides/versioned-transactions.html#อ้างอิง" class="router-link-active router-link-exact-active sidebar-item" aria-label="อ้างอิง"><!--[--><!--]--> อ้างอิง <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">อ้างอิง <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/th/references/local-development.html" class="sidebar-item" aria-label="Local Development"><!--[--><!--]--> Local Development <!--[--><!--]--></a><!----></li><li><a href="/th/references/keypairs-and-wallets.html" class="sidebar-item" aria-label="Keypairs และ Wallets"><!--[--><!--]--> Keypairs และ Wallets <!--[--><!--]--></a><!----></li><li><a href="/th/references/basic-transactions.html" class="sidebar-item" aria-label="Sending Transactions"><!--[--><!--]--> Sending Transactions <!--[--><!--]--></a><!----></li><li><a href="/th/references/accounts.html" class="sidebar-item" aria-label="Accounts"><!--[--><!--]--> Accounts <!--[--><!--]--></a><!----></li><li><a href="/th/references/programs.html" class="sidebar-item" aria-label="เขียน Programs"><!--[--><!--]--> เขียน Programs <!--[--><!--]--></a><!----></li><li><a href="/th/references/token.html" class="sidebar-item" aria-label="การใช้งาน Tokens"><!--[--><!--]--> การใช้งาน Tokens <!--[--><!--]--></a><!----></li><li><a href="/th/references/staking.html" class="sidebar-item" aria-label="Staking"><!--[--><!--]--> Staking <!--[--><!--]--></a><!----></li><li><a href="/th/references/nfts.html" class="sidebar-item" aria-label="NFTs"><!--[--><!--]--> NFTs <!--[--><!--]--></a><!----></li><li><a href="/th/references/offline-transactions.html" class="sidebar-item" aria-label="Sending Offline Transactions"><!--[--><!--]--> Sending Offline Transactions <!--[--><!--]--></a><!----></li><li><a href="/th/references/name-service.html" class="sidebar-item" aria-label="Name Service"><!--[--><!--]--> Name Service <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="versioned-transactions" tabindex="-1"><a class="header-anchor" href="#versioned-transactions" aria-hidden="true">#</a> Versioned Transactions</h1><p>Solana เพิ่งจะปล่อย Versioned Transactions ออกมาโดยมีสิ่งที่เปลี่ยนไปก็คือ:</p><ol><li><p>มี program ที่เอาไว้จัดการ on-chain address lookup tables</p></li><li><p>มี transaction รูปแบบใหม่สำหรับใช้งาน on-chain address lookup tables ได้</p></li></ol><h2 id="facts-เรื่องน่ารู้" tabindex="-1"><a class="header-anchor" href="#facts-เรื่องน่ารู้" aria-hidden="true">#</a> Facts (เรื่องน่ารู้)</h2><div class="custom-container tip"><p class="custom-container-title">Fact Sheet</p><ul><li>Transaction แบบเก่าจะมีข้อจำกัดอยู่: ขนาดจำกัดอยู่ที่ 1232 bytes, ดังนั้นจำนวน accounts ที่สามารถจัดเก็บได้ใน atomic transaction คือ: 35 addresses.</li><li>Address Lookup Tables (LUTs): เมื่อ accounts ถูกจัดเก็บในตารางนี้ ที่อยู่ของตารางสามารถอ้างอิงใน transaction message โดยใช้ดัชนี(index) u8 ขนาด 1 ไบต์</li><li><code>createLookupTable()</code> ใน <code>solana/web3.js</code> สามารถใช้สร้างตารางค้นหาใหม่ได้ และหาที่อยู่ของตารางได้</li><li>เมื่อ LUT ถูกสร้างแล้ว สามารถขยายได้ กล่าวคือสามารถเพิ่มบัญชีในตารางได้</li><li>Versioned Transactions: โครงสร้างของธุรกรรมเก่าต้องถูกปรับเปลี่ยนเพื่อรวม LUTs เข้าไป</li><li>ก่อนที่จะมีการเปลี่ยนมาใช้ version ใหม่นี้ ใน Transactions จะมี bit บนสุดของ byte แรกใน header ที่สามารถเอามาใช้เพื่อในการระบุ version ของ Transactions ได้</li></ul></div><p>เราจะพูดถึงการเปลี่ยนแปลง และ developers ต้องเข้าใจอะไรบ้างอย่างละเอียดมากขึ้น อย่างไรก็ตาม เราต้องเข้าใจโครงสร้าง (anatomy)​ของ transaction ปกติ (หรือเก่า) ก่อนเพื่อเข้าใจการเปลี่ยนแปลงได้อย่างชัดเจน</p><h2 id="legacy-transaction" tabindex="-1"><a class="header-anchor" href="#legacy-transaction" aria-hidden="true">#</a> Legacy Transaction</h2><p>The Solana network ใช้ขนาด maximum transactional unit (MTU) อยู่ที่ 1280 bytes, ตามข้อจำกัดขนาดของ <a href="https://en.wikipedia.org/wiki/IPv6_packet" target="_blank" rel="noopener noreferrer">IPv6 MTU<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> เพื่อให้มีความเร็ว และเชื่อถือได้ ซึ่งทำให้เหลือ <strong>1232 bytes</strong> สำหรับ packet data เช่น serialised transactions.</p><p>Transaction ประกอบด้วย:</p><ol><li>Array ของ signatures, ตัวละ 64 byte ในแบบ <a href="https://ed25519.cr.yp.to/" target="_blank" rel="noopener noreferrer">ed25519<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</li><li>Message (แบบเก่า)</li></ol><p><img src="/assets/tx_format.1023848a.png" alt="Transaction Format"></p><div class="custom-container tip"><p class="custom-container-title">Compact-Array format</p><p>Compact array คือ array ที่ถูก serialised ตามนี้:</p><ol><li>ความยาว Array ในรูปแบบ multi-byte encoding ที่เรียกว่า <a href="https://beta.docs.solana.com/developing/programming-model/transactions#compact-u16-format" target="_blank" rel="noopener noreferrer">Compact-u16<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>ตามด้วยแต่ละรายการของ array item</li></ol><p><img src="/assets/compact_array_format.6984243f.png" alt="Compact array format"></p></div><h2 id="legacy-message" tabindex="-1"><a class="header-anchor" href="#legacy-message" aria-hidden="true">#</a> Legacy Message</h2><p>Legacy Message แบบเก่าจะประกอบด้วยส่วนต่อไปนี้:</p><ol><li>ส่วนหัวเรื่อง (header)</li><li>compact-array ของ account addresses, ที่แต่ละ account address จะมีขนาด 32 bytes</li><li>blockhash ล่าสุด (recent blockhash)</li></ol><ul><li>คือ 32-byte SHA-256 hash เพื่อบอกเวลาล่าสุดที่ล็อคบัญชีถูกตรวจพบ ถ้า blockhash เก่าเกินไป validator จะปฏิเสธ.</li></ul><ol start="4"><li>compact-array ของ Instructions</li></ol><p><img src="/assets/legacy_message.09ab30b7.png" alt="Legacy Message"></p><h3 id="header" tabindex="-1"><a class="header-anchor" href="#header" aria-hidden="true">#</a> Header</h3><p>หัวของข้อความ (message header) จะมีขนาด 3 bytes และมี u8 integers 3 ตัว:</p><ol><li>จำนวนลายเซ็นที่จำเป็น (required signatures): Solana runtime จะตรวจสอบจำนวนนี้กับความยาวของ compact array ของ signatures ใน transaction.</li><li>จำนวนของที่อยู่บัญชีสำหรับการอ่านอย่างเดียว (read-only account addresses) ที่ต้องการ signatures</li><li>จำนวนของที่อยู่บัญชีสำหรับการอ่านอย่างเดียว (read-only account addresses) ที่ไม่ต้องการ signatures</li></ol><p><img src="/assets/message_header.8eb7d589.png" alt="Message Header"></p><h3 id="compact-array-ของ-account-addresses" tabindex="-1"><a class="header-anchor" href="#compact-array-ของ-account-addresses" aria-hidden="true">#</a> Compact-array ของ account addresses</h3><p>Compact array นี้จะเริ่มต้นด้วยการเข้ารหัสตัวเลขจำนวนของ account addresses โดยใช้ Compact-u16 ตามด้วย:</p><ol><li><strong>Account addresses ที่ต้องการ signatures</strong>: แสดงรายการของที่อยู่บัญชีที่ต้องการสิทธิ์การอ่าน และเขียนก่อน แล้วตามด้วยอ่านอย่างเดียว</li><li><strong>Account addresses ที่ไม่ต้องการ signatures</strong>: เหมือนข้างบนคือ แสดงรายการของที่อยู่บัญชีที่ต้องการสิทธิ์การอ่าน และเขียนก่อน แล้วตามด้วยอ่านอย่างเดียว</li></ol><p><img src="/assets/compat_array_of_account_addresses.7792e5c7.png" alt="Compact array ของ account addresses"></p><h3 id="compact-array-ของ-instructions" tabindex="-1"><a class="header-anchor" href="#compact-array-ของ-instructions" aria-hidden="true">#</a> Compact array ของ instructions</h3><p>เหมือนกับ compact array ของ account addresses, compact array จะเริ่มต้นด้วยการ encode จำนวนของ instructions โดยใช้ <code>Compact-u16</code> แล้วตามด้วย array ของ instructions แต่ละตัวที่มีส่วนประกอบดังนี้:</p><ol><li><strong>Program ID</strong>: ระบุโปรแกรม on-chain ที่จะดำเนินการ instruction นี้ ซึ่งจะแทนด้วย index ของ u8 ใน compact array ของ account addresses ภายใน message.</li><li><strong>Compact array ของ account address indexes</strong>: u8 indexes ของ account addresses ใน compact array ของ account addresses ที่ต้องการ signatures.</li><li><strong>Compact array ของ opaque u8 data</strong>: array ของ byte สำหรับใช้งานทั่วไปสำหรับ program ID ที่เคยพูดถึงก่อนหน้านี้. array ของ data นี้จะระบุสิ่งที่โปรแกรมควรดำเนินการ และข้อมูลเพิ่มเติมอื่นๆ ที่อาจไม่มีบอกไว้ใน account.</li></ol><p><img src="/assets/compact_array_of_ixs.6281d70b.png" alt="Compact array ของ Instructions"></p><h2 id="ข้อจํากัดของ-legacy-transactions" tabindex="-1"><a class="header-anchor" href="#ข้อจํากัดของ-legacy-transactions" aria-hidden="true">#</a> ข้อจำกัดของ Legacy Transactions</h2><p>ปัญหาใน Legacy Transactions คืออะไร?</p><p><strong>ขนาดของ transaction ซึ่งหมายถึงจำนวนบัญชีที่จะใช้ได้ใน atomic transaction ได้.</strong></p><p>เหมือนที่อธิบายไว้ก่อนหน้านี้ ขนาดของ Transaction ที่อนุญาตสูงสุดคือ <strong>1232 bytes</strong>. ขนาดของ account address คือ 32 bytes. ดังนั้น transaction จะสามารถเก็บ accounts ได้มากที่สุด <strong>35 accounts</strong> โดยต้องมีพื้นที่สำหรับ headers signatures และข้อมูล metadata ด้วย.</p><p><img src="/assets/issues_with_legacy_txs.5766db66.png" alt="ข้อจำกัดของ legacy transactions"></p><p>นี่เป็นปัญหาเพราะมีกรณีหลายกรณีที่ developers ต้องการใส่ 100 signature-free accounts ใน transaction เดียว. ซึ่ง legacy transaction เดิมนั้นจะไม่สามารถรองรับได้. วิธีการแก้ไขปัจจุบันที่กำลังถูกนำมาใช้คือการเก็บสถานะ (state) ชั่วคราว on-chain และนำไปใช้ใน transactions ทีหลัง. ซึ่ง workaround นี้จะใช้ไม่ได้เวลาใช้ multiple programs ที่ต้อง compose ใน transaction เดียว. ซึ่งแต่ละ program ก็จะต้องการ accounts หลายตัวเป็น input ทำให้เราเจอกับข้อจำกัดเดิมที่เคยเจอก่อนหน้าอยู่ดี.</p><p>เพื่อแก้ไขปัญหานี้จึงมีการนำเสนอ Address Lookup Tables (LUT) ขึ้นมา</p><h2 id="address-lookup-tables-lut" tabindex="-1"><a class="header-anchor" href="#address-lookup-tables-lut" aria-hidden="true">#</a> Address Lookup Tables (LUT)</h2><p>แนวคิดของ Address Lookup Tables คือการเก็บ account addresses ในรูปแบบ table-like (array) data structure บน on-chain. หลังจากที่ accounts ถูกเก็บในตารางนี้แล้ว เราจะสามารถอ้างอิงถึงที่อยู่ของตารางนั้นใน transaction message ได้ โดยใช้ 1-byte u8 เป็น index ชี้ไปที่แต่ละ account.</p><p><img src="/assets/luts.96a8a310.png" alt="LUTs"></p><p>เพราะแบบนั้นเราเลยไม่ต้องเก็บ addresses ใน transaction message อีกต่อไป เราแค่ต้องการเก็บ u8 ไว้อ้างอิง index ทำให้เราจะเก็บได้มากถึง 2^8=<strong>256</strong> accounts</p><p>LUTs ต้องทำ rent-exempt เวลาเริ่มใช้ (initialised) หรือทุกครั้งที่ address ใหม่ถูกเพิ่มเข้าไปในตาราง. Addresses สามารถเพิ่มได้โดยใช้ on-chain buffer หรือเพิ่มโดยตรงในตารางผ่านคำสั่ง <code>Extension</code> ใน instruction. นอกจากนี้ LUTs ยังสามารถเก็บ metadata ที่เกี่ยวข้องตามด้วย compact-array ของ accounts ได้ ด้านล่างนี้คือโครงสร้างของ Address Lookup Table ทั่วไป</p><p><img src="/assets/lut_format.060d6be2.png" alt="LUT Format"></p><p>เรื่องที่ต้องระวังของ LUTs คือเนื่องจาก address lookups จะมี overhead ระหว่างประมวลผล transaction, ซึ่งจะทำให้ค่า fee สูงขึ้นตามไปด้วย</p><h2 id="versioned-transactions-transactionv0" tabindex="-1"><a class="header-anchor" href="#versioned-transactions-transactionv0" aria-hidden="true">#</a> Versioned Transactions: TransactionV0</h2><p>โครงสร้างของ legacy transaction ต้องมีการปรับเปลี่ยนเพื่อให้ใช้ address table lookups ได้. การเปลี่ยนแปลงเหล่านี้ไม่ควรไปทำให้การประมวลผล transaction บน Solana พัง, และก็ไม่ควรไปเปลี่ยนรูปแบบการเรียก program แบบเดิมด้วย</p><p>เพื่อให้มั่นใจว่าจะไม่มีอะไรพัง เราจึงจำเป็นต้องระบุชนิดของ transaction ไว้อย่างชัดเจนว่ามันเป็น <code>legacy</code> หรือ <code>versioned</code>. แล้วเราจะใส่ version ไปตรงไหนของ transaction ดีล่ะ?</p><p>ก่อนหน้านี้ transactions จะเหลือ upper bit ที่ไม่ได้ใช้อยู่ที่ byte แรกของ message headers: <code>num_required_signatures</code>. เราสามารถใช้ bit นี้ในการประกาศ version ของ transactions ของเราได้.</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">VersionedMessage</span> <span class="token punctuation">{</span>
    <span class="token class-name">Legacy</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">V0</span><span class="token punctuation">(</span><span class="token namespace">v0<span class="token punctuation">::</span></span><span class="token class-name">Message</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ถ้า bit แรกใน byte แรกถูกตั้งค่า จะทำให้ bit ต่อไปจะหมายถึงหมายเลข version ซึ่ง Solana เริ่มต้นด้วย “Version 0” ซึ่งต้องกำหนดไว้ ถ้าจะเริ่มใช้ LUTs</p><p>If the first bit is not set, the transaction will be considered a “Legacy Transaction” and the remainder of the first byte will be treated as the first byte of an encoded legacy message.</p><p>หาก bit แรกไม่ถูกตั้งค่า transaction นั้นจะถือว่าเป็น &quot;Legacy Transaction&quot; และส่วนที่เหลือของ byte แรกจะถูกจัดการเหมือนเป็น byte แรกของ message ตามเดิม</p><h2 id="messagev0" tabindex="-1"><a class="header-anchor" href="#messagev0" aria-hidden="true">#</a> MessageV0</h2><p>โครงสร้างของ MessageV0 ค่อนข้างเหมือนเดิม เพิ่มเติมคือ...</p><ol><li><strong>Message Header</strong>: เหมือนเดิม</li><li><strong>Compact array of account keys</strong>: เหมือนเดิม แต่เราจะใช้แต่ละ byte ไปทำ index แทนเรียกว่า <em>index array A</em> (จะมีอธิบายอีกที)</li><li><strong>Recent blockhash</strong>: เหมือนเดิม</li><li><strong>Compact array of instructions</strong>: เปลี่ยน</li><li><strong>Compact array of address table lookups</strong>: เพิ่มมาใน v0</li></ol><p><img src="/assets/messagev0.c089b240.png" alt="Message v0"></p><p>เราจะมาดูเรื่องโครงสร้างของ compact array ของ address table lookups ก่อนที่จะไปดูว่ามีอะไรเปลี่ยนไปใน instruction array บ้าง</p><h3 id="compact-array-ของ-address-table-lookups" tabindex="-1"><a class="header-anchor" href="#compact-array-ของ-address-table-lookups" aria-hidden="true">#</a> Compact array ของ address table lookups</h3><p>โครงสร้างนี้นำเสนอ Address Lookup Tables (LUT) ในการทำ Versioned Transactions ซึ่งทำให้เป็นไปได้ที่จะโหลด accounts ที่สามารถอ่าน และเขียนได้มากขึ้นในธุรกรรมเดียว</p><p>ส่วน compact array จะเริ่มด้วย compact-u16 encoding ของจำนวนของ address table lookups, ตามด้วย array ของ address table lookups. แต่ละ lookup จะมีโครงสร้างตามนี้:</p><ol><li><strong>Account key</strong>: account key ของ address lookup table</li><li><strong>Writable indexes</strong>: compact array ของ indexes เอาไว้โหลด account addresses ที่เขียนได้อย่างเดียว. เราจะเรียกมันว่า <em>index array B</em>.</li><li><strong>Readonly indexes</strong>: compact array ของ indexes เอาไว้โหลด account addresses ที่อ่านได้อย่างเดียว. เราจะเรียกมันว่า <em>index array C</em>.</li></ol><p><img src="/assets/compact_array_of_luts.9175e491.png" alt="Compact array of LUTs"></p><p>ทีนี้เราลองมาดูกันว่ามีอะไรเปลี่ยนแปลงใน instructions compact array กันบ้าง</p><h3 id="compact-array-ของ-instructions-1" tabindex="-1"><a class="header-anchor" href="#compact-array-ของ-instructions-1" aria-hidden="true">#</a> Compact array ของ instructions</h3><p>เหมือนกับที่ได้พูดไว้ก่อนหน้านี้ คือ compact array ของ legacy instruction ที่จัดเก็บ legacy instruction แต่ละคำสั่งซึ่งในลักษณะเบื้องต้นจะเก็บข้อมูลต่อไปนี้:</p><ol><li>index ของ Program ID</li><li>Compact array ของ account address indexes</li><li>Compact array ของข้อมูล opaque 8-bit</li></ol><p>การเปลี่ยนแปลงใน instruction ใหม่ไม่ได้อยู่ในโครงสร้างของ instruction แต่จะอยู่ใน array ที่เราใช้เก็บ index ของ 1 กับ 2. ซึ่งใน legacy transactions จะใช้บางส่วนของ index array A แต่ใน versioned transactions เราจะใช้บางส่วนที่ได้จากการรวม array ต่อไปนี้แทน:</p><ol><li><strong>index array A</strong>: Compact array ของ accounts ที่เก็บไว้ใน message</li><li><strong>index array B</strong>: Writable indexes ใน address table lookup</li><li><strong>index array C</strong>: Readonly indexes ใน address table lookup</li></ol><p><img src="/assets/new_compact_array_of_ixs.54090dc5.png" alt="New Compact array of Instructions"></p><h2 id="rpc-changes" tabindex="-1"><a class="header-anchor" href="#rpc-changes" aria-hidden="true">#</a> RPC Changes</h2><p>Transaction ที่ตอบกลับมา (responses)จะต้องระบุ version field: <code>maxSupportedTransactionVersion</code> เพื่อบอก clients ว่าจะแกะ(deserialisation) transaction ยังไง.</p><p>methods ต่อไปนี้จำเป็นต้อง update เพื่อหลีกเลี่ยงข้อผิดพลาด:</p><ul><li><code>getTransaction</code></li><li><code>getBlock</code></li></ul><p>และต้องเพิ่ม parameter นี้เข้าไปตอนเรียกขอข้อมูล (requests):</p><p><code>maxSupportedTransactionVersion: 0</code></p><p>ถ้า <code>maxSupportedTransactionVersion</code> ไม่ได้ใส่มาใน request, transaction version จะถือว่าเป็นเป็น <code>legacy</code>. และถ้า block ไหนมี versioned transaction จะทำให้เกิด error ได้.</p><p>เราสามารถใส่ค่านี้เพิ่มเป็น JSON formatted requests ไปหา RPC endpoint ได้ตามตัวอย่างข้างล่าง:</p><div class="language-plaintext ext-plaintext line-numbers-mode"><pre class="language-plaintext"><code>curl http://localhost:8899 -X POST -H &quot;Content-Type: application/json&quot; -d \
&#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;:1, &quot;method&quot;: &quot;getBlock&quot;, &quot;params&quot;: [430, {
  &quot;encoding&quot;:&quot;json&quot;,
  &quot;maxSupportedTransactionVersion&quot;:0,
  &quot;transactionDetails&quot;:&quot;full&quot;,
  &quot;rewards&quot;:false
}]}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>หรือใช้ผ่าน library <a href="https://solana-labs.github.io/solana-web3.js/" target="_blank" rel="noopener noreferrer"><code>@solana/web3.js</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ก็ได้เหมือนกัน.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// connect to the `devnet` cluster and get the current `slot`</span>
<span class="token keyword">const</span> connection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">web3<span class="token punctuation">.</span>Connection</span><span class="token punctuation">(</span>web3<span class="token punctuation">.</span><span class="token function">clusterApiUrl</span><span class="token punctuation">(</span><span class="token string">&quot;devnet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> slot <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">getSlot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// get the latest block (allowing for v0 transactions)</span>
<span class="token keyword">const</span> block <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">getBlock</span><span class="token punctuation">(</span>slot<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">maxSupportedTransactionVersion</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// get a specific transaction (allowing for v0 transactions)</span>
<span class="token keyword">const</span> getTx <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>
  <span class="token string">&quot;3jpoANiFeVGisWRY5UP648xRXs3iQasCHABPWRWnoEjeA93nc79WrnGgpgazjq4K9m8g2NJoyKoWBV1Kx5VmtwHQ&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">maxSupportedTransactionVersion</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="แหล่งข้อมูลอื่นๆ" tabindex="-1"><a class="header-anchor" href="#แหล่งข้อมูลอื่นๆ" aria-hidden="true">#</a> แหล่งข้อมูลอื่นๆ</h2><ul><li><a href="https://beta.docs.solana.com/developing/versioned-transactions#how-create-a-versioned-transaction" target="_blank" rel="noopener noreferrer">How to build a Versioned Transaction<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://beta.docs.solana.com/developing/lookup-tables#how-to-create-an-address-lookup-table" target="_blank" rel="noopener noreferrer">How to build a Versioned Transaction with Address Lookup using LUTs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://beta.docs.solana.com/proposals/transactions-v2#limitations" target="_blank" rel="noopener noreferrer">Limitations of Versioned Transactions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://beta.docs.solana.com/proposals/transactions-v2#security-concerns" target="_blank" rel="noopener noreferrer">Security concerns of Versioned Transactions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://beta.docs.solana.com/proposals/transactions-v2#other-proposals" target="_blank" rel="noopener noreferrer">Alternate proposed solutions to Versioned Transactions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="อ้างอิง" tabindex="-1"><a class="header-anchor" href="#อ้างอิง" aria-hidden="true">#</a> อ้างอิง</h2><ul><li><a href="https://beta.docs.solana.com/proposals/transactions-v2" target="_blank" rel="noopener noreferrer">Transactions-V2 Proposal<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://beta.docs.solana.com/developing/versioned-transactions" target="_blank" rel="noopener noreferrer">Developing with Versioned Transactions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: katopz@gmail.com">Todsaporn Banjerdkit</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/th/guides/feature-parity-testing.html" class="" aria-label="Feature Parity Testing"><!--[--><!--]--> Feature Parity Testing <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.07ce7a66.js" defer></script>
  </body>
</html>
